"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2878],{96961:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(23645),l=a.n(n)()((function(e){return e[1]}));l.push([e.id,".master-image[data-v-65fa7b33]{box-shadow:0 9px 46px 8px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.14),0 11px 15px rgba(0,0,0,.2);height:227pt}",""]);const s=l},82878:(e,t,a)=>{a.r(t),a.d(t,{default:()=>De});var n=a(70821);(0,n.pushScopeId)("data-v-65fa7b33");var l={class:"card"},s=(0,n.createElementVNode)("h4",null,"Master Peripheral",-1),i={class:"row"},o={class:"col-sm-6"},r={class:"field grid"},c=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Kode",-1),d={class:"col-3 md-6"},m={class:"field grid"},u=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Merk",-1),p={class:"col-4"},v={key:0,class:"p-error"},h={class:"field grid"},k=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Tipe",-1),V={class:"col-3 md-6"},g={key:0,class:"p-error"},_={class:"field grid"},b=(0,n.createElementVNode)("label",{style:{width:"155px"}},"S/N",-1),N={class:"col-3 md-6"},f={key:0,class:"p-error"},E={class:"field grid"},y=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Tgl. Perolehan",-1),B={class:"col-12 md:col-6"},C={class:"flex items-center"},x=["value","onClick"],w={key:0,class:"p-error"},U={class:"field grid"},M=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Lama Garansi",-1),D={class:"col-12 md:col-6"},S={class:"p-inputgroup"},I=(0,n.createElementVNode)("span",{class:"p-inputgroup-addon"}," Tahun ",-1),T={key:0,class:"p-error"},z={class:"field grid"},P=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Kondisi",-1),L={class:"col-4"},$={key:0,class:"p-error"},A={class:"field grid"},K=(0,n.createElementVNode)("label",{style:{width:"155px"}},"QR-Code",-1),R={class:"col-12 md:col-6"},Y={class:"p-inputgroup"},G=["src"],Z={key:0,class:"p-error"},Q={class:"field grid"},j=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Bisnis Unit",-1),q={class:"col-4"},F={key:0,class:"p-error"},O={class:"field grid"},H=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Terakhir",-1),J={class:"col-3 md-6"},W={key:0,class:"p-error"},X={class:"field grid"},ee=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Pengguna Terakhir",-1),te={class:"col-3 md-6"},ae={key:0,class:"p-error"},ne={class:"p-p-0 p-p-sm-1 p-p-md-2 p-p-lg-3"},le={class:"col-sm-6"},se={class:"field grid"},ie=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Nama",-1),oe={class:"col-12 md:col-4"},re={key:0,class:"p-error"},ce={class:"field grid"},de=(0,n.createElementVNode)("label",{style:{width:"155px"}},null,-1),me={class:"col-10 md-6"},ue={class:"card",style:{height:"23.5rem"}},pe=["src"],ve=["src"],he={class:"field grid"},ke=(0,n.createElementVNode)("label",{style:{width:"155px"}},null,-1),Ve={class:"p-col-10 p-md-6"},ge={class:"field grid"},_e=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Sebelumnya",-1),be={class:"col-12 md:col-4"},Ne={key:0,class:"p-error"},fe={class:"field grid"},Ee=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Penguna Sebelumnya",-1),ye={class:"col-12 md:col-4"},Be={key:0,class:"p-error"};(0,n.popScopeId)();const Ce={data:function(){return{aktif:!1,displayImage:!1,submitted:!1,errors:[],merks:[],kondi:[],bisnis:[],master:[],preview:null,invent_photo:null,mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id")}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Master Peripheral")||e.checkto.includes("/master-peripheral")?e.getMaster():e.$router.push("/access")})):this.$router.push("/login")},Scan:function(){var e=this;this.aktif=!1;var t=this.$router.resolve({name:"Scan"});window.open(t.href,"_blank"),setTimeout((function(){return e.getBarcode()}),2e3)},hapus:function(){this.master.invent_barcode=null,this.aktif=!0},getBarcode:function(){var e=this;this.master.invent_barcode=localStorage.getItem("barcode"),this.master.invent_barcode||setTimeout((function(){return e.getBarcode()}),3e3)},getBisnis:function(){var e=this;this.axios.get("/api/get-bisnis",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.bisnis=t.data}))},getMerk:function(){var e=this;this.axios.get("/api/getMerk",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.merks=t.data}))},getKondisi:function(){var e=this;this.axios.get("/api/getKondisi",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.kondi=t.data}))},getMaster:function(){var e=this;this.axios.get("/api/edit-mas/"+this.$route.params.code,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.master=t.data,e.getMerk(),e.getBisnis(),e.getKondisi()})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},fileImage:function(e){this.invent_photo=e.target.files[0],this.displayImage=!0,this.preview=URL.createObjectURL(e.target.files[0]),this.createImage(this.invent_photo)},createImage:function(e){new Image;var t=new FileReader,a=this.master;t.onload=function(e){a.image=e.target.result},t.readAsDataURL(e)},UpdateMaster:function(){var e=this;this.submitted=!0,null!=this.master.invent_desc&&null!=this.master.invent_brand&&null!=this.master.invent_type&&null!=this.master.invent_sn&&null!=this.master.invent_tgl_perolehan&&null!=this.master.invent_lama_garansi&&null!=this.master.invent_kondisi&&null!=this.master.invent_barcode&&null!=this.master.invent_bu&&null!=this.master.invent_lokasi_update&&null!=this.master.invent_pengguna_update&&null!=this.master.invent_lokasi_previous&&null!=this.master.invent_pengguna_previous&&this.axios.put("/api/update-mas/"+this.$route.params.code,this.master,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){localStorage.removeItem("barcode"),setTimeout((function(){return e.$router.push("/master-peripheral")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Update"})})).catch((function(t){422==t.response.status&&(e.submitted=!1,e.errors=t.response.data.errors)}))}}};var xe=a(93379),we=a.n(xe),Ue=a(96961),Me={insert:"head",singleton:!1};we()(Ue.Z,Me);Ue.Z.locals;Ce.render=function(e,t,a,Ce,xe,we){var Ue=(0,n.resolveComponent)("Toast"),Me=(0,n.resolveComponent)("Toolbar"),De=(0,n.resolveComponent)("InputText"),Se=(0,n.resolveComponent)("Dropdown"),Ie=(0,n.resolveComponent)("Button"),Te=(0,n.resolveComponent)("DatePicker"),ze=(0,n.resolveComponent)("InputNumber"),Pe=(0,n.resolveDirective)("tooltip");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(Ue),(0,n.createElementVNode)("div",l,[(0,n.createVNode)(Me,{class:"mb-4"},{start:(0,n.withCtx)((function(){return[s]})),_:1}),(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("form",{onSubmit:t[15]||(t[15]=(0,n.withModifiers)((function(){return we.UpdateMaster&&we.UpdateMaster.apply(we,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",r,[c,(0,n.createElementVNode)("div",d,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_code,"onUpdate:modelValue":t[0]||(t[0]=function(e){return xe.master.invent_code=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",m,[u,(0,n.createElementVNode)("div",p,[(0,n.createVNode)(Se,{modelValue:xe.master.invent_brand,"onUpdate:modelValue":t[1]||(t[1]=function(e){return xe.master.invent_brand=e}),options:xe.merks,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Merk",class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_brand})},null,8,["modelValue","options","class"]),xe.submitted&&!xe.master.invent_brand?((0,n.openBlock)(),(0,n.createElementBlock)("small",v,"Merk Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",h,[k,(0,n.createElementVNode)("div",V,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_type,"onUpdate:modelValue":t[2]||(t[2]=function(e){return xe.master.invent_type=e}),placeholder:"Masukan Tipe",class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_type})},null,8,["modelValue","class"]),xe.submitted&&!xe.master.invent_type?((0,n.openBlock)(),(0,n.createElementBlock)("small",g,"Type Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",_,[b,(0,n.createElementVNode)("div",N,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_sn,"onUpdate:modelValue":t[3]||(t[3]=function(e){return xe.master.invent_sn=e}),placeholder:"Masukan S/N",class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_sn})},null,8,["modelValue","class"]),xe.submitted&&!xe.master.invent_sn?((0,n.openBlock)(),(0,n.createElementBlock)("small",f,"S/N Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",E,[y,(0,n.createElementVNode)("div",B,[(0,n.createVNode)(Te,{modelValue:xe.master.invent_tgl_perolehan,"onUpdate:modelValue":t[5]||(t[5]=function(e){return xe.master.invent_tgl_perolehan=e}),masks:xe.mask},{default:(0,n.withCtx)((function(e){var a=e.inputValue,l=e.togglePopover;return[(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:a,onClick:l,placeholder:"Pilih Tanggal",readonly:""},null,8,x),xe.master.invent_tgl_perolehan?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(Ie,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return xe.master.invent_tgl_perolehan=null})},null,512)),[[Pe,"Click to delete"]]):((0,n.openBlock)(),(0,n.createBlock)(Ie,{key:0,icon:"pi pi-calendar",onClick:l},null,8,["onClick"]))])]})),_:1},8,["modelValue","masks"]),xe.submitted&&!xe.master.invent_tgl_perolehan?((0,n.openBlock)(),(0,n.createElementBlock)("small",w," Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",U,[M,(0,n.createElementVNode)("div",D,[(0,n.createElementVNode)("div",S,[(0,n.createVNode)(ze,{modelValue:xe.master.invent_lama_garansi,"onUpdate:modelValue":t[6]||(t[6]=function(e){return xe.master.invent_lama_garansi=e}),placeholder:"Masukan Garansi",class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_lama_garansi})},null,8,["modelValue","class"]),I]),xe.submitted&&!xe.master.invent_lama_garansi?((0,n.openBlock)(),(0,n.createElementBlock)("small",T,"Garansi Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",z,[P,(0,n.createElementVNode)("div",L,[(0,n.createVNode)(Se,{modelValue:xe.master.invent_kondisi,"onUpdate:modelValue":t[7]||(t[7]=function(e){return xe.master.invent_kondisi=e}),options:xe.kondi,showClear:!0,filter:!0,optionLabel:"name",optionValue:"code",placeholder:"Pilih Kondisi",class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_kondisi})},null,8,["modelValue","options","class"]),xe.submitted&&!xe.master.invent_kondisi?((0,n.openBlock)(),(0,n.createElementBlock)("small",$,"Bisnis Unit Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",A,[K,(0,n.createElementVNode)("div",R,[(0,n.createElementVNode)("div",Y,[xe.master.invent_barcode?((0,n.openBlock)(),(0,n.createBlock)(De,{key:0,modelValue:xe.master.invent_barcode,"onUpdate:modelValue":t[8]||(t[8]=function(e){return xe.master.invent_barcode=e}),readonly:""},null,8,["modelValue"])):(0,n.createCommentVNode)("",!0),xe.aktif||xe.master.invent_barcode?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:1,src:"/assets/loading2.gif",height:"50",class:"mb-3"},null,8,G)),xe.master.invent_barcode?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(Ie,{key:2,icon:"pi pi-trash",class:"p-button-danger",onClick:t[9]||(t[9]=function(e){return we.hapus()})},null,512)),[[Pe,"Click to delete"]]):(0,n.createCommentVNode)("",!0),xe.aktif?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(Ie,{key:3,icon:"bi bi-qr-code-scan",class:"p-button p-button-info",onClick:t[10]||(t[10]=function(e){return we.Scan()})},null,512)),[[Pe,"Click to scan"]]):(0,n.createCommentVNode)("",!0)]),xe.submitted&&!xe.master.invent_barcode?((0,n.openBlock)(),(0,n.createElementBlock)("small",Z," QR-Code Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",Q,[j,(0,n.createElementVNode)("div",q,[(0,n.createVNode)(Se,{modelValue:xe.master.invent_bu,"onUpdate:modelValue":t[11]||(t[11]=function(e){return xe.master.invent_bu=e}),options:xe.bisnis,optionLabel:"name",showClear:!0,filter:!0,optionValue:"code",placeholder:"Pilih Bisnis Unit",class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_bu})},null,8,["modelValue","options","class"]),xe.submitted&&!xe.master.invent_bu?((0,n.openBlock)(),(0,n.createElementBlock)("small",F,"Bisnis Unit Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",O,[H,(0,n.createElementVNode)("div",J,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_lokasi_update,"onUpdate:modelValue":t[12]||(t[12]=function(e){return xe.master.invent_lokasi_update=e}),class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_lokasi_update}),placeholder:"Masukan Lokasi terakhir",disabled:""},null,8,["modelValue","class"]),xe.submitted&&!xe.master.invent_lokasi_update?((0,n.openBlock)(),(0,n.createElementBlock)("small",W,"Lokasi Terakhir Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",X,[ee,(0,n.createElementVNode)("div",te,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_pengguna_update,"onUpdate:modelValue":t[13]||(t[13]=function(e){return xe.master.invent_pengguna_update=e}),class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_pengguna_update}),placeholder:"Masukan Pengguna Terakhir",disabled:""},null,8,["modelValue","class"]),xe.submitted&&!xe.master.invent_pengguna_update?((0,n.openBlock)(),(0,n.createElementBlock)("small",ae,"Pengguna Terakhir Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",ne,[(0,n.createVNode)(Ie,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,n.createVNode)(Ie,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[14]||(t[14]=function(t){return e.$router.push("/master-peripheral")})})])],32)]),(0,n.createElementVNode)("div",le,[(0,n.createElementVNode)("div",se,[ie,(0,n.createElementVNode)("div",oe,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_desc,"onUpdate:modelValue":t[16]||(t[16]=function(e){return xe.master.invent_desc=e}),placeholder:"Masukan Nama",class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_desc}),autofocus:""},null,8,["modelValue","class"]),xe.submitted&&!xe.master.invent_desc?((0,n.openBlock)(),(0,n.createElementBlock)("small",re,"Nama Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",ce,[de,(0,n.createElementVNode)("div",me,[(0,n.createElementVNode)("div",ue,[xe.preview?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,src:xe.preview,class:"master-image"},null,8,pe)):((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:1,src:"/master_peripheral/"+xe.master.invent_photo,class:"master-image"},null,8,ve))])])]),(0,n.createElementVNode)("div",he,[ke,(0,n.createElementVNode)("div",Ve,[(0,n.createElementVNode)("input",{type:"file",name:"foto",ref:"fileInput",class:"form-control",onChange:t[17]||(t[17]=function(){return we.fileImage&&we.fileImage.apply(we,arguments)})},null,544)])]),(0,n.createElementVNode)("div",ge,[_e,(0,n.createElementVNode)("div",be,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_lokasi_previous,"onUpdate:modelValue":t[18]||(t[18]=function(e){return xe.master.invent_lokasi_previous=e}),class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_lokasi_previous}),placeholder:"Masukan Lokasi sebelumnya",disabled:""},null,8,["modelValue","class"]),xe.submitted&&!xe.master.invent_lokasi_previous?((0,n.openBlock)(),(0,n.createElementBlock)("small",Ne,"Lokasi Sebelumnya Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",fe,[Ee,(0,n.createElementVNode)("div",ye,[(0,n.createVNode)(De,{type:"text",modelValue:xe.master.invent_pengguna_previous,"onUpdate:modelValue":t[19]||(t[19]=function(e){return xe.master.invent_pengguna_previous=e}),class:(0,n.normalizeClass)({"p-invalid":xe.submitted&&!xe.master.invent_pengguna_previous}),placeholder:"Masukan Pengguna sebelumnya",disabled:""},null,8,["modelValue","class"]),xe.submitted&&!xe.master.invent_pengguna_previous?((0,n.openBlock)(),(0,n.createElementBlock)("small",Be,"Pengguna Terakhir Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])])])])])])},Ce.__scopeId="data-v-65fa7b33";const De=Ce}}]);