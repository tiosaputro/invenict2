"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5468],{35468:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var l=t(70821),o={class:"card"},r=(0,l.createElementVNode)("h4",null,"Pembelian Peripheral(Detail)",-1),n={class:"card-body"},s={class:"field grid"},c=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem"},"Kode Peripheral",-1),i={class:"col-fixed w-9rem"},d={key:0,class:"p-error"},u={key:1,class:"p-error"},m={class:"field grid"},p=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem"},"Jumlah (Qty)",-1),h={class:"col-fixed w-9rem"},k={key:0,class:"p-error"},V={class:"field grid"},f=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem"},"Satuan",-1),v={class:"col-fixed w-9rem"},g={key:0,class:"p-error"},N={class:"field grid"},b=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem"},"Harga Satuan",-1),y={class:"col-fixed w-9rem"},C={key:0,class:"p-error"},E={class:"field grid"},B=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem"},"Total Harga",-1),w={class:"col-fixed w-9rem"},D={key:0,class:"p-error"},x={class:"field grid"},S=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem"},"Keterangan",-1),z={class:"col-fixed w-9rem"},q={key:0,class:"p-error"},T={class:"form-group"};const U={data:function(){return{locale:"id-ID",currency:"IDR",submitted:!1,errors:[],kode:null,satuan:null,ket:null,pricetotal:null,qty:null,hrgsatuan:null,sat:[],kodeperi:[],valuta:[],token:localStorage.getItem("token"),checkname:[],checkto:[],divisi:[],id:localStorage.getItem("id")}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(a){e.checkto=a.data.map((function(e){return e.to})),e.checkname=a.data.map((function(e){return e.name})),e.checkname.includes("Pembelian Peripheral")||e.checkto.includes("/pembelian-peripheral")?e.getValutaCode():e.$router.push("/access")})):this.$router.push("/login")},getValutaCode:function(){var e=this;this.axios.get("/api/getValuta/"+this.$route.params.code,{headers:{Authorization:"Bearer "+this.token}}).then((function(a){e.valuta=a.data.dtl,e.sat=a.data.ref,e.kodeperi=a.data.mas,"$"==e.valuta.valuta_code&&(e.locale="en-US",e.currency="USD"),"Rp"==e.valuta.valuta_code&&(e.locale="id-ID",e.currency="IDR"),"Â¥"==e.valuta.valuta_code&&(e.locale="zh-CN",e.currency="CNY")}))},getTotal:function(){this.qty&&this.hrgsatuan&&(this.pricetotal=this.qty*this.hrgsatuan)},CreateDetail:function(){var e=this;if(this.submitted=!0,this.errors=[],null!=this.kode&&null!=this.satuan&&null!=this.ket&&null!=this.pricetotal&&null!=this.hrgsatuan&&null!=this.qty){var a=new FormData;a.append("invent_code",this.kode),a.append("satuan",this.satuan),a.append("ket",this.ket),a.append("pricetotal",this.pricetotal),a.append("hrgsatuan",this.hrgsatuan),a.append("qty",this.qty),this.axios.post("/api/add-detail-pem/"+this.$route.params.code,a,{headers:{Authorization:"Bearer "+this.token}}).then((function(a){setTimeout((function(){return e.$router.push("/pembelian-peripheral-detail/"+e.$route.params.code)}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(a){e.errors=a.response.data.errors,e.submitted=!1}))}}}};const P=(0,t(83744).Z)(U,[["render",function(e,a,t,U,P,$){var I=(0,l.resolveComponent)("Toast"),_=(0,l.resolveComponent)("Toolbar"),K=(0,l.resolveComponent)("Dropdown"),M=(0,l.resolveComponent)("InputNumber"),H=(0,l.resolveComponent)("Textarea"),R=(0,l.resolveComponent)("Button");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(I),(0,l.createElementVNode)("div",o,[(0,l.createVNode)(_,{class:"mb-4"},{start:(0,l.withCtx)((function(){return[r]})),_:1}),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("form",{onSubmit:a[7]||(a[7]=(0,l.withModifiers)((function(){return $.CreateDetail&&$.CreateDetail.apply($,arguments)}),["prevent"]))},[(0,l.createElementVNode)("div",s,[c,(0,l.createElementVNode)("div",i,[(0,l.createVNode)(K,{modelValue:P.kode,"onUpdate:modelValue":a[0]||(a[0]=function(e){return P.kode=e}),options:P.kodeperi,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Kode",class:(0,l.normalizeClass)({"p-invalid":P.submitted&&!P.kode})},null,8,["modelValue","options","class"]),P.submitted&&!P.kode?((0,l.openBlock)(),(0,l.createElementBlock)("small",d,"Kode Peripheral Belum Diisi. ")):(0,l.createCommentVNode)("",!0),P.errors.invent_code?((0,l.openBlock)(),(0,l.createElementBlock)("small",u,(0,l.toDisplayString)(P.errors.invent_code[0]),1)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",m,[p,(0,l.createElementVNode)("div",h,[(0,l.createVNode)(M,{modelValue:P.qty,"onUpdate:modelValue":a[1]||(a[1]=function(e){return P.qty=e}),placeholder:"Masukan Jumlah (Qty)",change:$.getTotal(),class:(0,l.normalizeClass)({"p-invalid":P.submitted&&!P.qty})},null,8,["modelValue","change","class"]),P.submitted&&!P.qty?((0,l.openBlock)(),(0,l.createElementBlock)("small",k,"Jumlah (Qty) Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",V,[f,(0,l.createElementVNode)("div",v,[(0,l.createVNode)(K,{modelValue:P.satuan,"onUpdate:modelValue":a[2]||(a[2]=function(e){return P.satuan=e}),options:P.sat,showClear:!0,optionLabel:"name",optionValue:"code",placeholder:"Pilih Satuan",class:(0,l.normalizeClass)({"p-invalid":P.submitted&&!P.satuan})},null,8,["modelValue","options","class"]),P.submitted&&!P.satuan?((0,l.openBlock)(),(0,l.createElementBlock)("small",g,"Satuan Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",N,[b,(0,l.createElementVNode)("div",y,[(0,l.createVNode)(M,{mode:"currency",change:$.getTotal(),locale:P.locale,currency:P.currency,modelValue:P.hrgsatuan,"onUpdate:modelValue":a[3]||(a[3]=function(e){return P.hrgsatuan=e}),placeholder:"Masukan Harga Satuan",class:(0,l.normalizeClass)({"p-invalid":P.submitted&&!P.hrgsatuan})},null,8,["change","locale","currency","modelValue","class"]),P.submitted&&!P.hrgsatuan?((0,l.openBlock)(),(0,l.createElementBlock)("small",C,"Harga Satuan Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",E,[B,(0,l.createElementVNode)("div",w,[(0,l.createVNode)(M,{mode:"currency",currency:P.currency,locale:P.locale,modelValue:P.pricetotal,"onUpdate:modelValue":a[4]||(a[4]=function(e){return P.pricetotal=e}),placeholder:"Masukan Total Pembayaran",class:(0,l.normalizeClass)({"p-invalid":P.submitted&&!P.pricetotal}),readonly:""},null,8,["currency","locale","modelValue","class"]),P.submitted&&!P.pricetotal?((0,l.openBlock)(),(0,l.createElementBlock)("small",D,"Total Harga Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",x,[S,(0,l.createElementVNode)("div",z,[(0,l.createVNode)(H,{modelValue:P.ket,"onUpdate:modelValue":a[5]||(a[5]=function(e){return P.ket=e}),autoResize:!0,rows:"5",cols:"20",placeholder:"Masukan Keterangan",class:(0,l.normalizeClass)({"p-invalid":P.submitted&&!P.ket})},null,8,["modelValue","class"]),P.submitted&&!P.ket?((0,l.openBlock)(),(0,l.createElementBlock)("small",q,"Keterangan Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",T,[(0,l.createVNode)(R,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,l.createVNode)(R,{label:"Cancel",class:"p-button-rounded p-button-secondary mt-2",icon:"pi pi-times",onClick:a[6]||(a[6]=function(a){return e.$router.go(-1)})})])],32)])])])}]])}}]);