"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5124],{95124:(e,t,i)=>{i.r(t),i.d(t,{default:()=>D});var o=i(70821),r={class:"card"},a=(0,o.createElementVNode)("h4",null,"Divisi Refs",-1),s={class:"row"},n={class:"col-sm-6"},d={class:"card-body"},l={class:"field grid"},c=(0,o.createElementVNode)("label",{style:{width:"120px"}},"Divisi ID",-1),u={class:"col-3 md-6"},m={class:"field grid"},v=(0,o.createElementVNode)("label",{style:{width:"120px"}},"Divisi Code",-1),p={class:"col-3 md-6"},h={key:0,class:"p-error"},f={class:"field grid"},V=(0,o.createElementVNode)("label",{style:{width:"120px"}},"Divisi Name",-1),k={class:"col-3 md-6"},N={key:0,class:"p-error"},g={class:"field grid"},E=(0,o.createElementVNode)("label",{style:{width:"120px"}},"Divisi Verificator",-1),y={class:"col-3 md-6"},C={key:0,class:"p-error"},b={class:"form-group"};const _={data:function(){return{errors:[],div:[],verif:[],token:localStorage.getItem("token"),id:localStorage.getItem("id"),checkname:[],checkto:[]}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Divisi")||e.checkto.includes("/divisi-refs")?e.getDivisi():e.$router.push("/access")})):this.$router.push("/login")},getDivisi:function(){var e=this;this.axios.get("/api/edit-divisi/"+this.$route.params.code,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.div=t.data,e.getVerificator()})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},getVerificator:function(){var e=this;this.axios.get("/api/get-verificator/"+this.div.div_id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.verif=t.data}))},UpdateDivisi:function(){var e=this;this.errors=[],this.axios.put("/api/update-divisi/"+this.$route.params.code,this.div,{headers:{Authorization:"Bearer "+this.token}}).then((function(){e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Update"}),setTimeout((function(){return e.$router.push("/divisi-refs")}),1e3)})).catch((function(t){e.errors=t.response.data.errors}))}},render:function(e,t,i,_,D,B){var S=(0,o.resolveComponent)("Toast"),x=(0,o.resolveComponent)("Toolbar"),w=(0,o.resolveComponent)("InputText"),U=(0,o.resolveComponent)("Dropdown"),$=(0,o.resolveComponent)("Button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(S),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(x,{class:"mb-4"},{start:(0,o.withCtx)((function(){return[a]})),_:1}),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",n,[this.div?((0,o.openBlock)(),(0,o.createElementBlock)("form",{key:0,onSubmit:t[5]||(t[5]=(0,o.withModifiers)((function(){return B.UpdateDivisi&&B.UpdateDivisi.apply(B,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",l,[c,(0,o.createElementVNode)("div",u,[(0,o.createVNode)(w,{modelValue:D.div.div_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return D.div.div_id=e}),disabled:""},null,8,["modelValue"])])]),(0,o.createElementVNode)("div",m,[v,(0,o.createElementVNode)("div",p,[(0,o.createVNode)(w,{modelValue:D.div.div_code,"onUpdate:modelValue":t[1]||(t[1]=function(e){return D.div.div_code=e}),placeholder:"Masukan Divisi Code",class:(0,o.normalizeClass)({"p-invalid":D.errors.div_code}),autofocus:""},null,8,["modelValue","class"]),D.errors.div_code?((0,o.openBlock)(),(0,o.createElementBlock)("small",h,(0,o.toDisplayString)(D.errors.div_code[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",f,[V,(0,o.createElementVNode)("div",k,[(0,o.createVNode)(w,{modelValue:D.div.div_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return D.div.div_name=e}),placeholder:"Masukan Divisi Name",class:(0,o.normalizeClass)({"p-invalid":D.errors.div_name})},null,8,["modelValue","class"]),D.errors.div_name?((0,o.openBlock)(),(0,o.createElementBlock)("small",N,(0,o.toDisplayString)(D.errors.div_name[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",g,[E,(0,o.createElementVNode)("div",y,[(0,o.createVNode)(U,{modelValue:D.div.div_verificator,"onUpdate:modelValue":t[3]||(t[3]=function(e){return D.div.div_verificator=e}),options:D.verif,showClear:!0,optionLabel:"name",optionValue:"name",placeholder:"Select A Verificator",class:(0,o.normalizeClass)({"p-invalid":D.errors.div_verificator})},null,8,["modelValue","options","class"]),D.errors.div_verificator?((0,o.openBlock)(),(0,o.createElementBlock)("small",C,(0,o.toDisplayString)(D.errors.div_verificator[0]),1)):(0,o.createCommentVNode)("",!0)])])]),(0,o.createElementVNode)("div",b,[(0,o.createVNode)($,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,o.createVNode)($,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[4]||(t[4]=function(t){return e.$router.push("/divisi-refs")})})])],32)):(0,o.createCommentVNode)("",!0)])])])])}},D=_}}]);