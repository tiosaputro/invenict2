"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9022],{79022:(e,a,t)=>{t.r(a),t.d(a,{default:()=>T});var l=t(70821),r={class:"card"},o=(0,l.createElementVNode)("h4",null,"Pembelian Peripheral(Detail)",-1),c={class:"card-body"},s={class:"field grid"},i=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Kode Peripheral",-1),d={class:"col-fixed w-9rem"},n={class:"field grid"},u=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Jumlah (Qty)",-1),m={class:"col-fixed w-9rem"},p={key:0,class:"p-error"},h={class:"field grid"},V=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Satuan",-1),f={class:"col-fixed w-9rem"},k={key:0,class:"p-error"},v={class:"field grid"},y=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Harga Satuan",-1),N={class:"col-fixed w-9rem"},_={key:0,class:"p-error"},b={class:"field grid"},g=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Total Harga",-1),E={class:"col-fixed w-9rem"},C={key:0,class:"p-error"},w={class:"field grid"},x=(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Keterangan",-1),B={class:"col-fixed w-9rem"},D={key:0,class:"p-error"},S={class:"form-group"};const U={data:function(){return{locale:"id-ID",currency:"IDR",submitted:!1,errors:[],sat:[],kodeperi:[],detail:[],token:localStorage.getItem("token"),checkname:[],checkto:[],divisi:[],id:localStorage.getItem("id")}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(a){e.checkto=a.data.map((function(e){return e.to})),e.checkname=a.data.map((function(e){return e.name})),e.checkname.includes("Pembelian Peripheral")||e.checkto.includes("/pembelian-peripheral")?e.getDetail():e.$router.push("/access")}))},getTotal:function(){this.detail.dpurchase_prc=this.detail.dpurchase_qty*this.detail.dpurchase_prc_sat},getDetail:function(){var e=this;this.axios.get("/api/edit-detail-pem/"+this.$route.params.purchase,{headers:{Authorization:"Bearer "+this.token}}).then((function(a){e.detail=a.data.dtl,e.valuta=a.data.valuta,e.sat=a.data.ref,e.kodeperi=a.data.mas,e.getValutaCode()})).catch((function(a){401==a.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},getValutaCode:function(){"$"==this.valuta.valuta_code&&(this.locale="en-US",this.currency="USD"),"Rp"==this.valuta.valuta_code&&(this.locale="id-ID",this.currency="IDR"),"Â¥"==this.valuta.valuta_code&&(this.locale="zh-CN",this.currency="CNY")},UpdateDetail:function(){var e=this;this.submitted=!0,null!=this.detail.dpurchase_qty&&null!=this.detail.dpurchase_sat&&null!=this.detail.dpurchase_prc_sat&&null!=this.detail.dpurchase_prc&&null!=this.detail.dpurchase_remark&&null!=this.detail.invent_code&&this.axios.put("/api/update-detail-pem/"+this.$route.params.code+"/"+this.$route.params.purchase,this.detail,{headers:{Authorization:"Bearer "+this.token}}).then((function(a){setTimeout((function(){return e.$router.push("/pembelian-peripheral-detail/"+e.$route.params.code)}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Update"})})).catch((function(a){e.errors=a.response.data.errors,e.submitted=!1}))}}};const T=(0,t(83744).Z)(U,[["render",function(e,a,t,U,T,$){var z=(0,l.resolveComponent)("Toast"),I=(0,l.resolveComponent)("Toolbar"),q=(0,l.resolveComponent)("Dropdown"),H=(0,l.resolveComponent)("InputNumber"),M=(0,l.resolveComponent)("Textarea"),P=(0,l.resolveComponent)("Button");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(z),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(I,{class:"mb-4"},{start:(0,l.withCtx)((function(){return[o]})),_:1}),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("form",{onSubmit:a[7]||(a[7]=(0,l.withModifiers)((function(){return $.UpdateDetail&&$.UpdateDetail.apply($,arguments)}),["prevent"]))},[(0,l.createElementVNode)("div",s,[i,(0,l.createElementVNode)("div",d,[(0,l.createVNode)(q,{modelValue:T.detail.invent_code,"onUpdate:modelValue":a[0]||(a[0]=function(e){return T.detail.invent_code=e}),options:T.kodeperi,optionLabel:"name",optionValue:"code",disabled:""},null,8,["modelValue","options"])])]),(0,l.createElementVNode)("div",n,[u,(0,l.createElementVNode)("div",m,[(0,l.createVNode)(H,{modelValue:T.detail.dpurchase_qty,"onUpdate:modelValue":a[1]||(a[1]=function(e){return T.detail.dpurchase_qty=e}),placeholder:"Masukan Jumlah (Qty)",change:$.getTotal(),class:(0,l.normalizeClass)({"p-invalid":T.submitted&&!T.detail.dpurchase_qty})},null,8,["modelValue","change","class"]),T.submitted&&!T.detail.dpurchase_qty?((0,l.openBlock)(),(0,l.createElementBlock)("small",p,"Jumlah (Qty) Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",h,[V,(0,l.createElementVNode)("div",f,[(0,l.createVNode)(q,{modelValue:T.detail.dpurchase_sat,"onUpdate:modelValue":a[2]||(a[2]=function(e){return T.detail.dpurchase_sat=e}),options:T.sat,showClear:!0,optionLabel:"name",optionValue:"code",placeholder:"Pilih Satuan",class:(0,l.normalizeClass)({"p-invalid":T.submitted&&!T.detail.dpurchase_sat})},null,8,["modelValue","options","class"]),T.submitted&&!T.detail.dpurchase_sat?((0,l.openBlock)(),(0,l.createElementBlock)("small",k,"Satuan Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",v,[y,(0,l.createElementVNode)("div",N,[(0,l.createVNode)(H,{mode:"currency",locale:T.locale,currency:T.currency,change:$.getTotal(),modelValue:T.detail.dpurchase_prc_sat,"onUpdate:modelValue":a[3]||(a[3]=function(e){return T.detail.dpurchase_prc_sat=e}),placeholder:"Masukan Harga Satuan",class:(0,l.normalizeClass)({"p-invalid":T.submitted&&!T.detail.dpurchase_prc_sat})},null,8,["locale","currency","change","modelValue","class"]),T.submitted&&!T.detail.dpurchase_prc_sat?((0,l.openBlock)(),(0,l.createElementBlock)("small",_,"Harga Satuan Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",b,[g,(0,l.createElementVNode)("div",E,[(0,l.createVNode)(H,{mode:"currency",locale:T.locale,currency:T.currency,modelValue:T.detail.dpurchase_prc,"onUpdate:modelValue":a[4]||(a[4]=function(e){return T.detail.dpurchase_prc=e}),placeholder:"Masukan Total Harga",class:(0,l.normalizeClass)({"p-invalid":T.submitted&&!T.detail.dpurchase_prc}),readonly:""},null,8,["locale","currency","modelValue","class"]),T.submitted&&!T.detail.dpurchase_prc?((0,l.openBlock)(),(0,l.createElementBlock)("small",C,"Total Harga Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",w,[x,(0,l.createElementVNode)("div",B,[(0,l.createVNode)(M,{modelValue:T.detail.dpurchase_remark,"onUpdate:modelValue":a[5]||(a[5]=function(e){return T.detail.dpurchase_remark=e}),autoResize:!0,rows:"5",cols:"20",placeholder:"Masukan Keterangan",class:(0,l.normalizeClass)({"p-invalid":T.submitted&&!T.detail.dpurchase_remark})},null,8,["modelValue","class"]),T.submitted&&!T.detail.dpurchase_remark?((0,l.openBlock)(),(0,l.createElementBlock)("small",D,"Keterangan Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",S,[(0,l.createVNode)(P,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,l.createVNode)(P,{label:"Cancel",class:"p-button-rounded p-button-secondary mt-2",icon:"pi pi-times",onClick:a[6]||(a[6]=function(a){return e.$router.go(-1)})})])],32)])])])}]])}}]);