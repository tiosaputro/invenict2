"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[516],{50529:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(23645),l=a.n(n)()((function(e){return e[1]}));l.push([e.id,".master-image[data-v-3a6b9b75]{box-shadow:0 9px 46px 8px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.14),0 11px 15px rgba(0,0,0,.2);height:155pt;-o-object-fit:contain;object-fit:contain}",""]);const i=l},80516:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Se});var n=a(70821),l=function(e){return(0,n.pushScopeId)("data-v-3a6b9b75"),e=e(),(0,n.popScopeId)(),e},i={class:"card"},r=l((function(){return(0,n.createElementVNode)("h4",null,"Master Peripheral",-1)})),o={class:"row"},d={class:"col-sm-6"},s={class:"field grid"},c=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Kode",-1)})),u={class:"col-fixed w-9rem"},m={class:"field grid"},p=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Merk",-1)})),v={class:"col-fixed w-9rem"},f={class:"field grid"},V=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Tipe",-1)})),h={class:"col-fixed w-9rem"},g={class:"field grid"},N=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"S/N",-1)})),_={class:"col-fixed w-9rem"},k={key:0,class:"p-error"},b={class:"field grid"},E=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Tgl. Perolehan",-1)})),x={class:"col-fixed w-11rem"},w={class:"flex items-center"},y=["value","onClick"],C={key:0,class:"p-error"},U={class:"field grid"},B=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Lama Garansi",-1)})),S={class:"col-fixed w-11rem"},I={class:"p-inputgroup"},M=l((function(){return(0,n.createElementVNode)("span",{class:"p-inputgroup-addon"}," Tahun ",-1)})),D={class:"field grid"},T=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Kondisi",-1)})),P={class:"col-fixed w-9rem"},z={key:0,class:"p-error"},$={class:"field grid"},L=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Bisnis Unit",-1)})),A={class:"col-fixed w-9rem"},R={key:0,class:"p-error"},Y={class:"field grid"},Z=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Lokasi Terakhir",-1)})),j={class:"col-fixed w-9rem"},F={class:"field grid"},K=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Pengguna Terakhir",-1)})),G={class:"col-fixed w-9rem"},O={class:"field grid"},q=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Divisi Pengguna Terakhir",-1)})),H={class:"col-fixed w-9rem"},J=(0,n.createTextVNode)(),Q={class:"field grid"},W=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Bisnis Unit Terakhir",-1)})),X={class:"col-fixed w-9rem"},ee={class:"form-group"},te={class:"col-sm-6"},ae={class:"field grid"},ne=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Nama Peripheral",-1)})),le={class:"col-fixed w-9rem"},ie={class:"field grid"},re=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},null,-1)})),oe={class:"col-10 md-6"},de={class:"card",style:{height:"20 rem"}},se=["src"],ce={class:"field grid"},ue=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},null,-1)})),me={class:"col-10 md-6"},pe={class:"field grid"},ve=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Lokasi Sebelumnya",-1)})),fe={class:"col-fixed w-9rem"},Ve={class:"field grid"},he=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Penguna Sebelumnya",-1)})),ge={class:"col-fixed w-9rem"},Ne={class:"field grid"},_e=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Divisi Pengguna Sebelumnya",-1)})),ke={class:"col-fixed w-9rem"},be={class:"field grid"},Ee=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem"},"Bisnis Unit Sebelumnya",-1)})),xe={class:"col-fixed w-9rem"};const we={data:function(){return{aktif:!0,displayImage:!1,preview:"",errors:[],error:[],kondi:[],bisnis:[],kategori:[],foto:null,mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id"),detail:[]}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Master Peripheral")||e.checkto.includes("/master-peripheral")?(e.getDetail(),e.getMerk()):e.$router.push("/access")})):this.$router.push("/login")},getDetail:function(){var e=this;this.axios.get("/api/add-master-detail/"+this.$route.params.code,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.detail=t.data}))},getMerk:function(){var e=this;this.axios.get("/api/rsrcsupp",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.bisnis=t.data.bisnis,e.kondi=t.data.kondisi})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},fileImage:function(e){this.foto=e.target.files[0],this.displayImage=!0,this.preview=URL.createObjectURL(e.target.files[0]),this.createImage(this.foto)},createImage:function(e){new Image;var t=new FileReader,a=this;t.onload=function(e){a.image=e.target.result},t.readAsDataURL(e)},CreateMaster:function(){var e=this;if(this.errors=[],this.error=[],this.image){var t=new FormData;t.append("code",this.detail.invent_code),t.append("tgl",this.detail.invent_tgl_perolehan),t.append("sn",this.detail.invent_sn),t.append("bu",this.detail.invent_bu),t.append("foto",this.image),t.append("kondisi",this.detail.invent_kondisi),t.append("garansi",this.detail.invent_lama_garansi),this.axios.post("/api/save-master-detail",t,{headers:{Authorization:"Bearer "+this.token}}).then((function(){setTimeout((function(){return e.$router.push("/master-peripheral-detail/"+e.$route.params.code)}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(t){e.errors=t.response.data.errors}))}else{var a=new FormData;a.append("code",this.detail.invent_code),a.append("tgl",this.detail.invent_tgl_perolehan),a.append("sn",this.detail.invent_sn),a.append("bu",this.detail.invent_bu),a.append("kondisi",this.detail.invent_kondisi),a.append("garansi",this.detail.invent_lama_garansi),this.axios.post("/api/add-master-detail",a,{headers:{Authorization:"Bearer "+this.token}}).then((function(){setTimeout((function(){return e.$router.push("/master-peripheral-detail/"+e.$route.params.code)}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(t){e.errors=t.response.data.errors}))}}}};var ye=a(93379),Ce=a.n(ye),Ue=a(50529),Be={insert:"head",singleton:!1};Ce()(Ue.Z,Be);Ue.Z.locals;const Se=(0,a(83744).Z)(we,[["render",function(e,t,a,l,we,ye){var Ce=(0,n.resolveComponent)("Toast"),Ue=(0,n.resolveComponent)("Toolbar"),Be=(0,n.resolveComponent)("InputText"),Se=(0,n.resolveComponent)("Button"),Ie=(0,n.resolveComponent)("DatePicker"),Me=(0,n.resolveComponent)("InputNumber"),De=(0,n.resolveComponent)("Dropdown");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(Ce),(0,n.createElementVNode)("div",i,[(0,n.createVNode)(Ue,{class:"mb-4"},{start:(0,n.withCtx)((function(){return[r]})),_:1}),(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("form",{onSubmit:t[14]||(t[14]=(0,n.withModifiers)((function(){return ye.CreateMaster&&ye.CreateMaster.apply(ye,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",s,[c,(0,n.createElementVNode)("div",u,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_code,"onUpdate:modelValue":t[0]||(t[0]=function(e){return we.detail.invent_code=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",m,[p,(0,n.createElementVNode)("div",v,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.tes,"onUpdate:modelValue":t[1]||(t[1]=function(e){return we.detail.tes=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",f,[V,(0,n.createElementVNode)("div",h,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_type,"onUpdate:modelValue":t[2]||(t[2]=function(e){return we.detail.invent_type=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",g,[N,(0,n.createElementVNode)("div",_,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_sn,"onUpdate:modelValue":t[3]||(t[3]=function(e){return we.detail.invent_sn=e}),placeholder:"Masukan S/N",class:(0,n.normalizeClass)({"p-invalid":we.errors.invent_sn})},null,8,["modelValue","class"]),we.errors.invent_sn?((0,n.openBlock)(),(0,n.createElementBlock)("small",k,(0,n.toDisplayString)(we.errors.invent_sn[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",b,[E,(0,n.createElementVNode)("div",x,[(0,n.createVNode)(Ie,{modelValue:we.detail.invent_tgl_perolehan,"onUpdate:modelValue":t[5]||(t[5]=function(e){return we.detail.invent_tgl_perolehan=e}),masks:we.mask},{default:(0,n.withCtx)((function(e){var a=e.inputValue,l=e.togglePopover;return[(0,n.createElementVNode)("div",w,[(0,n.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:a,onClick:l,placeholder:"Pilih Tanggal",readonly:""},null,8,y),we.detail.invent_tgl_perolehan?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(Se,{key:0,icon:"pi pi-calendar",onClick:function(e){return l()}},null,8,["onClick"])),we.detail.invent_tgl_perolehan?((0,n.openBlock)(),(0,n.createBlock)(Se,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return we.detail.invent_tgl_perolehan=null})})):(0,n.createCommentVNode)("",!0)])]})),_:1},8,["modelValue","masks"]),we.errors.invent_tgl_perolehan?((0,n.openBlock)(),(0,n.createElementBlock)("small",C,(0,n.toDisplayString)(we.errors.invent_tgl_perolehan[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",U,[B,(0,n.createElementVNode)("div",S,[(0,n.createElementVNode)("div",I,[(0,n.createVNode)(Me,{modelValue:we.detail.invent_lama_garansi,"onUpdate:modelValue":t[6]||(t[6]=function(e){return we.detail.invent_lama_garansi=e}),placeholder:"Masukan Garansi"},null,8,["modelValue"]),M])])]),(0,n.createElementVNode)("div",D,[T,(0,n.createElementVNode)("div",P,[(0,n.createVNode)(De,{modelValue:we.detail.invent_kondisi,"onUpdate:modelValue":t[7]||(t[7]=function(e){return we.detail.invent_kondisi=e}),options:we.kondi,showClear:!0,filter:!0,optionLabel:"name",optionValue:"code",placeholder:"Pilih Kondisi",class:(0,n.normalizeClass)({"p-invalid":we.errors.invent_kondisi})},null,8,["modelValue","options","class"]),we.errors.invent_kondisi?((0,n.openBlock)(),(0,n.createElementBlock)("small",z,(0,n.toDisplayString)(we.errors.invent_kondisi[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",$,[L,(0,n.createElementVNode)("div",A,[(0,n.createVNode)(De,{modelValue:we.detail.invent_bu,"onUpdate:modelValue":t[8]||(t[8]=function(e){return we.detail.invent_bu=e}),options:we.bisnis,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Bisnis Unit",class:(0,n.normalizeClass)({"p-invalid":we.errors.invent_bu})},null,8,["modelValue","options","class"]),we.errors.invent_bu?((0,n.openBlock)(),(0,n.createElementBlock)("small",R,(0,n.toDisplayString)(we.errors.invent_bu[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",Y,[Z,(0,n.createElementVNode)("div",j,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_lokasi_update,"onUpdate:modelValue":t[9]||(t[9]=function(e){return we.detail.invent_lokasi_update=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",F,[K,(0,n.createElementVNode)("div",G,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_pengguna_terakhir,"onUpdate:modelValue":t[10]||(t[10]=function(e){return we.detail.invent_pengguna_terakhir=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",O,[q,(0,n.createElementVNode)("div",H,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_divisi_update,"onUpdate:modelValue":t[11]||(t[11]=function(e){return we.detail.invent_divisi_update=e}),disabled:""},null,8,["modelValue"])])]),J,(0,n.createElementVNode)("div",Q,[W,(0,n.createElementVNode)("div",X,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_bu_update,"onUpdate:modelValue":t[12]||(t[12]=function(e){return we.detail.invent_bu_update=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",ee,[(0,n.createVNode)(Se,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,n.createVNode)(Se,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[13]||(t[13]=function(t){return e.$router.push("/master-peripheral")})})])],32)]),(0,n.createElementVNode)("div",te,[(0,n.createElementVNode)("div",ae,[ne,(0,n.createElementVNode)("div",le,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_desc,"onUpdate:modelValue":t[15]||(t[15]=function(e){return we.detail.invent_desc=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",ie,[re,(0,n.createElementVNode)("div",oe,[(0,n.createElementVNode)("div",de,[(0,n.createElementVNode)("img",{src:we.preview,class:"master-image"},null,8,se)])])]),(0,n.createElementVNode)("div",ce,[ue,(0,n.createElementVNode)("div",me,[(0,n.createElementVNode)("input",{type:"file",class:(0,n.normalizeClass)([{"p-invalid":we.error.foto},"form-control"]),name:"foto",ref:"fileInput",onChange:t[16]||(t[16]=function(){return ye.fileImage&&ye.fileImage.apply(ye,arguments)})},null,34)])]),(0,n.createElementVNode)("div",pe,[ve,(0,n.createElementVNode)("div",fe,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_lokasi_previous,"onUpdate:modelValue":t[17]||(t[17]=function(e){return we.detail.invent_lokasi_previous=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",Ve,[he,(0,n.createElementVNode)("div",ge,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_pengguna_previous,"onUpdate:modelValue":t[18]||(t[18]=function(e){return we.detail.invent_pengguna_previous=e}),class:(0,n.normalizeClass)({"p-invalid":we.errors.invent_pengguna_previous}),disabled:""},null,8,["modelValue","class"])])]),(0,n.createElementVNode)("div",Ne,[_e,(0,n.createElementVNode)("div",ke,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_divisi_previous,"onUpdate:modelValue":t[19]||(t[19]=function(e){return we.detail.invent_divisi_previous=e}),class:(0,n.normalizeClass)({"p-invalid":we.errors.invent_pengguna_previous}),disabled:""},null,8,["modelValue","class"])])]),(0,n.createElementVNode)("div",be,[Ee,(0,n.createElementVNode)("div",xe,[(0,n.createVNode)(Be,{type:"text",modelValue:we.detail.invent_bu_previous,"onUpdate:modelValue":t[20]||(t[20]=function(e){return we.detail.invent_bu_previous=e}),class:(0,n.normalizeClass)({"p-invalid":we.errors.invent_pengguna_previous}),disabled:""},null,8,["modelValue","class"])])])])])])])}],["__scopeId","data-v-3a6b9b75"]])}}]);