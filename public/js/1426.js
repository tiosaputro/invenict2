"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1426],{22133:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(23645),l=o.n(n)()((function(e){return e[1]}));l.push([e.id,".mutasi-image[data-v-2b82e7e2]{box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);-o-object-fit:contain;object-fit:contain;width:450px}",""]);const a=l},1426:(e,t,o)=>{o.r(t),o.d(t,{default:()=>se});var n=o(70821),l=function(e){return(0,n.pushScopeId)("data-v-2b82e7e2"),e=e(),(0,n.popScopeId)(),e},a={class:"card"},r=l((function(){return(0,n.createElementVNode)("h4",null,"Mutasi Peripheral",-1)})),i={class:"row"},s={class:"col-sm-6"},c={class:"field grid"},d=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Peripheral",-1)})),u={class:"field col-12 md:col-6"},m={key:0,class:"p-error"},p={key:1,class:"p-error"},k={class:"field grid"},v=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"S/N",-1)})),f={class:"field col-12 md:col-6"},h={key:0,class:"p-error"},V={key:1,class:"p-error"},b={class:"field grid"},g=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"From Date",-1)})),N={class:"col-12 md:col-6"},C={class:"flex items-center"},E=["value","onClick"],B={key:0,class:"p-error"},y={class:"field grid"},x=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"To Date",-1)})),w={class:"col-12 md:col-6"},_={class:"flex items-center"},S=["value","onClick"],D={class:"field grid"},U=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Location",-1)})),z={class:"col-10 md:col-4"},M={key:0,class:"p-error"},P={class:"field grid"},I=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"User",-1)})),L={class:"col-12 md:col-6"},T={key:0,class:"p-error"},$={key:1,class:"p-error"},A={class:"field grid"},Y=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Division User",-1)})),j={class:"col-12 md:col-6"},Z={key:0,class:"p-error"},K={key:1,class:"p-error"},F={class:"field grid"},R=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Business Unit",-1)})),q={class:"col-12 md:col-6"},G={key:0,class:"p-error"},H={key:1,class:"p-error"},J={class:"field grid"},O=l((function(){return(0,n.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Remark",-1)})),Q={class:"col-12 md:col-6"},W={key:0,class:"p-error"},X={key:1,class:"p-error"},ee={class:"form-group"},te={class:"col-sm-6"},oe=["src"];const ne={data:function(){return{submitted:!1,errors:[],kode:null,fromdate:new Date,todate:"",ket:null,user:null,lokasi:null,detail:[],kodeperi:[],divisi:[],invent_bu:null,invent_sn:null,invent_divisi:null,sn:[],bu:[],mutasi:[],mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id")}},mounted:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Mutasi Peripheral")||e.checkto.includes("/mutasi-peripheral")?e.getKode():e.$router.push("/access")})):this.$router.push("/login")},getImage:function(){var e=this;this.invent_sn&&this.axios.get("api/getImage/"+this.invent_sn,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.detail=t.data}))},getSn:function(){var e=this;this.kode&&this.axios.get("/api/get-sn-peripheral/"+this.kode,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.sn=t.data}))},getKode:function(){var e=this;this.axios.get("api/get-kode-peripheral",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.kodeperi=t.data.kode,e.divisi=t.data.divisi,e.bu=t.data.bu})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},CreateMutasi:function(){var e=this;this.$confirm.require({message:"Are you sure to save this data?",header:"Confirmation",icon:"pi pi-info-circle",acceptClass:"p-button",acceptLabel:"Yes",rejectLabel:"No",accept:function(){if(e.submitted=!0,null!=e.kode&&null!=e.invent_sn&&null!=e.fromdate&&null!=e.ket&&null!=e.user&&null!=e.invent_divisi&&null!=e.invent_bu&&null!=e.lokasi){var t=new FormData;t.append("kode",e.kode),t.append("fromdate",e.fromdate),t.append("ket",e.ket),t.append("todate",e.todate),t.append("user",e.user),t.append("lokasi",e.lokasi),t.append("invent_bu",e.invent_bu),t.append("invent_divisi",e.invent_divisi),t.append("invent_sn",e.invent_sn),e.axios.post("api/add-mut",t,{headers:{Authorization:"Bearer "+e.token}}).then((function(){setTimeout((function(){return e.$router.push("/mutasi-peripheral")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(t){e.errors=t.response.data.errors,e.submitted=!1}))}},reject:function(){}})}}};var le=o(93379),ae=o.n(le),re=o(22133),ie={insert:"head",singleton:!1};ae()(re.Z,ie);re.Z.locals;const se=(0,o(83744).Z)(ne,[["render",function(e,t,o,l,ne,le){var ae=(0,n.resolveComponent)("ConfirmDialog"),re=(0,n.resolveComponent)("Toast"),ie=(0,n.resolveComponent)("Toolbar"),se=(0,n.resolveComponent)("Dropdown"),ce=(0,n.resolveComponent)("Button"),de=(0,n.resolveComponent)("DatePicker"),ue=(0,n.resolveComponent)("InputText"),me=(0,n.resolveComponent)("Textarea");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(ae),(0,n.createVNode)(re),(0,n.createElementVNode)("div",a,[(0,n.createVNode)(ie,{class:"mb-4"},{start:(0,n.withCtx)((function(){return[r]})),_:1}),(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("form",{onSubmit:t[14]||(t[14]=(0,n.withModifiers)((function(){return le.CreateMutasi&&le.CreateMutasi.apply(le,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",c,[d,(0,n.createElementVNode)("div",u,[(0,n.createVNode)(se,{modelValue:ne.kode,"onUpdate:modelValue":t[0]||(t[0]=function(e){return ne.kode=e}),options:ne.kodeperi,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,onChange:t[1]||(t[1]=function(e){return le.getSn()}),placeholder:"Select",class:(0,n.normalizeClass)({"p-invalid":ne.submitted&&!ne.kode})},null,8,["modelValue","options","class"]),ne.errors.kode?((0,n.openBlock)(),(0,n.createElementBlock)("small",m,(0,n.toDisplayString)(ne.errors.kode[0]),1)):(0,n.createCommentVNode)("",!0),ne.submitted&&!ne.kode?((0,n.openBlock)(),(0,n.createElementBlock)("small",p," Peripheral not filled ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",k,[v,(0,n.createElementVNode)("div",f,[(0,n.createVNode)(se,{modelValue:ne.invent_sn,"onUpdate:modelValue":t[2]||(t[2]=function(e){return ne.invent_sn=e}),options:ne.sn,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,onChange:t[3]||(t[3]=function(e){return le.getImage()}),placeholder:"Select",class:(0,n.normalizeClass)({"p-invalid":ne.submitted&&!ne.invent_sn})},null,8,["modelValue","options","class"]),ne.errors.invent_sn?((0,n.openBlock)(),(0,n.createElementBlock)("small",h,(0,n.toDisplayString)(ne.errors.invent_sn[0]),1)):(0,n.createCommentVNode)("",!0),ne.submitted&&!ne.invent_sn?((0,n.openBlock)(),(0,n.createElementBlock)("small",V," S/N not filled. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",b,[g,(0,n.createElementVNode)("div",N,[(0,n.createVNode)(de,{modelValue:ne.fromdate,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ne.fromdate=e}),masks:ne.mask},{default:(0,n.withCtx)((function(e){var o=e.inputValue,l=e.togglePopover;return[(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:o,onClick:l,placeholder:"Pilih Dari Tanggal",readonly:""},null,8,E),ne.fromdate?((0,n.openBlock)(),(0,n.createBlock)(ce,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return ne.fromdate=""})})):((0,n.openBlock)(),(0,n.createBlock)(ce,{key:0,icon:"pi pi-calendar",onClick:l},null,8,["onClick"]))])]})),_:1},8,["modelValue","masks"]),ne.submitted&&!ne.fromdate?((0,n.openBlock)(),(0,n.createElementBlock)("small",B," Dari Tgl Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",y,[x,(0,n.createElementVNode)("div",w,[(0,n.createVNode)(de,{modelValue:ne.todate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ne.todate=e}),masks:ne.mask,"min-date":ne.fromdate},{default:(0,n.withCtx)((function(e){var o=e.inputValue,l=e.togglePopover;return[(0,n.createElementVNode)("div",_,[(0,n.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:o,onClick:l,placeholder:"Pilih SD Tanggal",readonly:""},null,8,S),ne.todate?((0,n.openBlock)(),(0,n.createBlock)(ce,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[6]||(t[6]=function(e){return ne.todate=""})})):((0,n.openBlock)(),(0,n.createBlock)(ce,{key:0,icon:"pi pi-calendar",onClick:l},null,8,["onClick"]))])]})),_:1},8,["modelValue","masks","min-date"])])]),(0,n.createElementVNode)("div",D,[U,(0,n.createElementVNode)("div",z,[(0,n.createVNode)(ue,{type:"text",modelValue:ne.lokasi,"onUpdate:modelValue":t[8]||(t[8]=function(e){return ne.lokasi=e}),placeholder:"Masukan Lokasi. . .",class:(0,n.normalizeClass)({"p-invalid":ne.submitted&&!ne.lokasi})},null,8,["modelValue","class"]),ne.submitted&&!ne.lokasi?((0,n.openBlock)(),(0,n.createElementBlock)("small",M,"Lokasi Belum Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",P,[I,(0,n.createElementVNode)("div",L,[(0,n.createVNode)(ue,{type:"text",modelValue:ne.user,"onUpdate:modelValue":t[9]||(t[9]=function(e){return ne.user=e}),placeholder:"Masukan Pengguna . . .",class:(0,n.normalizeClass)({"p-invalid":ne.submitted&&!ne.user})},null,8,["modelValue","class"]),ne.submitted&&!ne.user?((0,n.openBlock)(),(0,n.createElementBlock)("small",T,"Pengguna Belum Diisi. ")):(0,n.createCommentVNode)("",!0),ne.errors.user?((0,n.openBlock)(),(0,n.createElementBlock)("small",$,(0,n.toDisplayString)(ne.errors.user[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",A,[Y,(0,n.createElementVNode)("div",j,[(0,n.createVNode)(se,{modelValue:ne.invent_divisi,"onUpdate:modelValue":t[10]||(t[10]=function(e){return ne.invent_divisi=e}),options:ne.divisi,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Select",class:(0,n.normalizeClass)({"p-invalid":ne.submitted&&!ne.invent_divisi})},null,8,["modelValue","options","class"]),ne.submitted&&!ne.invent_divisi?((0,n.openBlock)(),(0,n.createElementBlock)("small",Z,"Pengguna Belum Diisi. ")):(0,n.createCommentVNode)("",!0),ne.errors.invent_divisi?((0,n.openBlock)(),(0,n.createElementBlock)("small",K,(0,n.toDisplayString)(ne.errors.invent_divisi[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",F,[R,(0,n.createElementVNode)("div",q,[(0,n.createVNode)(se,{modelValue:ne.invent_bu,"onUpdate:modelValue":t[11]||(t[11]=function(e){return ne.invent_bu=e}),options:ne.bu,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Select",class:(0,n.normalizeClass)({"p-invalid":ne.submitted&&!ne.invent_bu})},null,8,["modelValue","options","class"]),ne.submitted&&!ne.invent_bu?((0,n.openBlock)(),(0,n.createElementBlock)("small",G,"Business Unit not filled. ")):(0,n.createCommentVNode)("",!0),ne.errors.invent_bu?((0,n.openBlock)(),(0,n.createElementBlock)("small",H,(0,n.toDisplayString)(ne.errors.invent_bu[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",J,[O,(0,n.createElementVNode)("div",Q,[(0,n.createVNode)(me,{modelValue:ne.ket,"onUpdate:modelValue":t[12]||(t[12]=function(e){return ne.ket=e}),autoResize:!0,rows:"5",cols:"20",placeholder:"Enter remark",class:(0,n.normalizeClass)({"p-invalid":ne.submitted&&!ne.ket})},null,8,["modelValue","class"]),ne.submitted&&!ne.ket?((0,n.openBlock)(),(0,n.createElementBlock)("small",W,"Keterangan Belum Diisi. ")):(0,n.createCommentVNode)("",!0),ne.errors.ket?((0,n.openBlock)(),(0,n.createElementBlock)("small",X,(0,n.toDisplayString)(ne.errors.ket[0]),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",ee,[(0,n.createVNode)(ce,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Save",type:"submit"}),(0,n.createVNode)(ce,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[13]||(t[13]=function(t){return e.$router.push("/mutasi-peripheral")})})])],32)]),(0,n.createElementVNode)("div",te,[this.invent_sn?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,src:"/master_peripheral/"+ne.detail.photo,class:"mutasi-image"},null,8,oe)):(0,n.createCommentVNode)("",!0)])])])])}],["__scopeId","data-v-2b82e7e2"]])}}]);