"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6906],{21475:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(23645),l=r.n(o)()((function(e){return e[1]}));l.push([e.id,".master-image[data-v-502173b7]{box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);height:227pt}",""]);const a=l},56906:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Te});var o=r(5166);(0,o.pushScopeId)("data-v-502173b7");var l={class:"card"},a=(0,o.createElementVNode)("h4",null,"Master Peripheral",-1),s={class:"row"},n={class:"col-sm-6"},i={class:"field grid"},c=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Kode",-1),d={class:"col-3 md-6"},m={key:0,class:"p-error"},p={class:"field grid"},u=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Merk",-1),k={class:"col-4"},h={key:0,class:"p-error"},V={key:1,class:"p-error"},g={class:"field grid"},v=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Tipe",-1),f={class:"col-4"},N={key:0,class:"p-error"},y={key:1,class:"p-error"},b={class:"field grid"},E=(0,o.createElementVNode)("label",{style:{width:"155px"}},"S/N",-1),C={class:"col-3 md-6"},B={key:0,class:"p-error"},x={class:"field grid"},w=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Tgl. Perolehan",-1),S={class:"col-12 md:col-6"},D={class:"flex items-center"},M=["value","onClick"],U={key:0,class:"p-error"},I={class:"field grid"},z=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Lama Garansi",-1),T={class:"col-12 md:col-6"},P={class:"p-inputgroup"},L=(0,o.createElementVNode)("span",{class:"p-inputgroup-addon"}," Tahun ",-1),$={key:0,class:"p-error"},K={class:"field grid"},A=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Kondisi",-1),R={class:"col-4"},_={key:0,class:"p-error"},j={class:"field grid"},Y=(0,o.createElementVNode)("label",{style:{width:"155px"}},"QR-Code",-1),F={class:"col-12 md:col-6"},W={class:"p-inputgroup"},Z={key:0,class:"p-error"},G={class:"field grid"},q=(0,o.createElementVNode)("label",{for:"notlp2",style:{width:"155px"}},"Bisnis Unit",-1),O={class:"col-4"},Q={key:0,class:"p-error"},H={key:1,class:"p-error"},J={class:"field grid"},X=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Terakhir",-1),ee={class:"col-6"},te={key:0,class:"p-error"},re={class:"field grid"},oe=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Pengguna Terakhir",-1),le={class:"col-6"},ae={key:0,class:"p-error"},se={class:"form-group"},ne={class:"col-sm-6"},ie={class:"field grid"},ce=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Nama",-1),de={class:"col-12 md:col-4"},me={key:0,class:"p-error"},pe={class:"field grid"},ue=(0,o.createElementVNode)("label",{style:{width:"155px"}},null,-1),ke={class:"col-10 md-6"},he={class:"card",style:{height:"22.5rem"}},Ve=["src"],ge={class:"field grid"},ve=(0,o.createElementVNode)("label",{style:{width:"155px"}},null,-1),fe={class:"col-10 md-6"},Ne={key:0,class:"p-error"},ye={class:"field grid"},be=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Sebelumnya",-1),Ee={class:"col-6"},Ce={key:0,class:"p-error"},Be={class:"field grid"},xe=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Penguna Sebelumnya",-1),we={class:"col-6"},Se={key:0,class:"p-error"};(0,o.popScopeId)();const De={data:function(){return{aktif:!0,displayImage:!1,preview:"",errors:[],error:[],merks:[],kondi:[],bisnis:[],code:"",nama:"",tgl:"",sn:"",bu:"",merk:"",type:"",foto:null,prevuser:"",lastuser:"",prevloct:"",lastloct:"",kondisi:"",barcode:"",garansi:null,mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id")}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Master Peripheral")||e.checkto.includes("/master-peripheral")?e.getMerk():e.$router.push("/access")})):this.$router.push("/login")},getMerk:function(){var e=this;this.axios.get("api/getMerk",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.merks=t.data,e.getKondisi(),e.getBisnis()})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},getKondisi:function(){var e=this;this.axios.get("api/getKondisi",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.kondi=t.data}))},Scan:function(){var e=this;this.aktif=!1;var t=this.$router.resolve({name:"Scan"});window.open(t.href,"_blank"),setTimeout((function(){return e.getBarcode()}),2e3)},getBarcode:function(){var e=this;this.barcode=localStorage.getItem("barcode"),this.barcode||setTimeout((function(){return e.getBarcode()}),3e3)},hapus:function(){localStorage.removeItem("barcode"),this.barcode=null,this.aktif=!0},getBisnis:function(){var e=this;this.axios.get("api/get-bisnis",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.bisnis=t.data}))},fileImage:function(e){this.foto=e.target.files[0],this.displayImage=!0,this.preview=URL.createObjectURL(e.target.files[0]),this.createImage(this.foto)},createImage:function(e){new Image;var t=new FileReader,r=this;t.onload=function(e){r.image=e.target.result},t.readAsDataURL(e)},CreateMaster:function(){var e=this;if(this.errors=[],this.error=[],null!=this.bu&&null!=this.merk&&null!=this.foto){var t=new FormData;t.append("nama",this.nama),t.append("code",this.code),t.append("tgl",this.tgl),t.append("sn",this.sn),t.append("bu",this.bu),t.append("merk",this.merk),t.append("type",this.type),t.append("lastuser",this.lastuser),t.append("prevuser",this.prevuser),t.append("prevloct",this.prevloct),t.append("lastloct",this.lastloct),t.append("foto",this.image),t.append("kondisi",this.kondisi),t.append("barcode",this.barcode),t.append("garansi",this.garansi),this.axios.post("api/add-mas",t,{headers:{Authorization:"Bearer "+this.token}}).then((function(){localStorage.removeItem("barcode"),setTimeout((function(){return e.$router.push("/master-peripheral")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(t){e.errors=t.response.data.errors}))}else null==this.bu&&(this.error.bu="Bisnis Unit Wajib Diisi"),null==this.merk&&(this.error.merk="Merk Wajib Diisi"),null==this.foto&&(this.error.foto="Foto Wajib Diisi")}}};var Me=r(93379),Ue=r.n(Me),Ie=r(21475),ze={insert:"head",singleton:!1};Ue()(Ie.Z,ze);Ie.Z.locals;De.render=function(e,t,r,De,Me,Ue){var Ie=(0,o.resolveComponent)("Toast"),ze=(0,o.resolveComponent)("Toolbar"),Te=(0,o.resolveComponent)("InputText"),Pe=(0,o.resolveComponent)("Dropdown"),Le=(0,o.resolveComponent)("Button"),$e=(0,o.resolveComponent)("DatePicker"),Ke=(0,o.resolveComponent)("InputNumber"),Ae=(0,o.resolveDirective)("tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(Ie),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(ze,{class:"mb-4"},{start:(0,o.withCtx)((function(){return[a]})),_:1}),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("form",{onSubmit:t[15]||(t[15]=(0,o.withModifiers)((function(){return Ue.CreateMaster&&Ue.CreateMaster.apply(Ue,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",i,[c,(0,o.createElementVNode)("div",d,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.code,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Me.code=e}),placeholder:"Masukan Kode",class:(0,o.normalizeClass)({"p-invalid":Me.errors.code}),autofocus:""},null,8,["modelValue","class"]),Me.errors.code?((0,o.openBlock)(),(0,o.createElementBlock)("small",m,(0,o.toDisplayString)(Me.errors.code[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",p,[u,(0,o.createElementVNode)("div",k,[(0,o.createVNode)(Pe,{modelValue:Me.merk,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Me.merk=e}),options:Me.merks,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Merk",class:(0,o.normalizeClass)({"p-invalid":Me.errors.merk})},null,8,["modelValue","options","class"]),Me.errors.merk?((0,o.openBlock)(),(0,o.createElementBlock)("small",h,(0,o.toDisplayString)(Me.errors.merk[0]),1)):(0,o.createCommentVNode)("",!0),Me.error.merk?((0,o.openBlock)(),(0,o.createElementBlock)("small",V,(0,o.toDisplayString)(Me.error.merk),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",g,[v,(0,o.createElementVNode)("div",f,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.type,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Me.type=e}),placeholder:"Masukan Tipe",class:(0,o.normalizeClass)({"p-invalid":Me.errors.type})},null,8,["modelValue","class"]),Me.errors.type?((0,o.openBlock)(),(0,o.createElementBlock)("small",N,(0,o.toDisplayString)(Me.errors.type[0]),1)):(0,o.createCommentVNode)("",!0),Me.error.type?((0,o.openBlock)(),(0,o.createElementBlock)("small",y,(0,o.toDisplayString)(Me.error.type),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",b,[E,(0,o.createElementVNode)("div",C,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.sn,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Me.sn=e}),placeholder:"Masukan S/N",class:(0,o.normalizeClass)({"p-invalid":Me.errors.sn})},null,8,["modelValue","class"]),Me.errors.sn?((0,o.openBlock)(),(0,o.createElementBlock)("small",B,(0,o.toDisplayString)(Me.errors.sn[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",x,[w,(0,o.createElementVNode)("div",S,[(0,o.createVNode)($e,{modelValue:Me.tgl,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Me.tgl=e}),masks:Me.mask},{default:(0,o.withCtx)((function(e){var r=e.inputValue,l=e.togglePopover;return[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:r,onClick:l,placeholder:"Pilih Tanggal",readonly:""},null,8,M),Me.tgl?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(Le,{key:0,icon:"pi pi-calendar",onClick:function(e){return l()}},null,8,["onClick"])),Me.tgl?((0,o.openBlock)(),(0,o.createBlock)(Le,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return Me.tgl=null})})):(0,o.createCommentVNode)("",!0)])]})),_:1},8,["modelValue","masks"]),Me.errors.tgl?((0,o.openBlock)(),(0,o.createElementBlock)("small",U,(0,o.toDisplayString)(Me.errors.tgl[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",I,[z,(0,o.createElementVNode)("div",T,[(0,o.createElementVNode)("div",P,[(0,o.createVNode)(Ke,{modelValue:Me.garansi,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Me.garansi=e}),placeholder:"Masukan Garansi",class:(0,o.normalizeClass)({"p-invalid":Me.errors.garansi})},null,8,["modelValue","class"]),L]),Me.errors.garansi?((0,o.openBlock)(),(0,o.createElementBlock)("small",$,(0,o.toDisplayString)(Me.errors.garansi[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",K,[A,(0,o.createElementVNode)("div",R,[(0,o.createVNode)(Pe,{modelValue:Me.kondisi,"onUpdate:modelValue":t[7]||(t[7]=function(e){return Me.kondisi=e}),options:Me.kondi,showClear:!0,filter:!0,optionLabel:"name",optionValue:"code",placeholder:"Pilih Kondisi",class:(0,o.normalizeClass)({"p-invalid":Me.errors.kondisi})},null,8,["modelValue","options","class"]),Me.errors.kondisi?((0,o.openBlock)(),(0,o.createElementBlock)("small",_,(0,o.toDisplayString)(Me.errors.kondisi[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",j,[Y,(0,o.createElementVNode)("div",F,[(0,o.createElementVNode)("div",W,[Me.barcode?((0,o.openBlock)(),(0,o.createBlock)(Te,{key:0,modelValue:Me.barcode,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Me.barcode=e}),readonly:""},null,8,["modelValue"])):(0,o.createCommentVNode)("",!0),Me.barcode?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(Le,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[9]||(t[9]=function(e){return Ue.hapus()})},null,512)),[[Ae,"Click to delete"]]):(0,o.createCommentVNode)("",!0),Me.aktif?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(Le,{key:2,icon:"bi bi-qr-code-scan",class:"p-button p-button-info",onClick:t[10]||(t[10]=function(e){return Ue.Scan()})},null,512)),[[Ae,"Click to scan"]]):(0,o.createCommentVNode)("",!0)]),Me.errors.barcode?((0,o.openBlock)(),(0,o.createElementBlock)("small",Z,(0,o.toDisplayString)(Me.errors.barcode[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",G,[q,(0,o.createElementVNode)("div",O,[(0,o.createVNode)(Pe,{modelValue:Me.bu,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Me.bu=e}),options:Me.bisnis,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Bisnis Unit",class:(0,o.normalizeClass)({"p-invalid":Me.errors.bu})},null,8,["modelValue","options","class"]),Me.errors.bu?((0,o.openBlock)(),(0,o.createElementBlock)("small",Q,(0,o.toDisplayString)(Me.errors.bu[0]),1)):(0,o.createCommentVNode)("",!0),Me.error.bu?((0,o.openBlock)(),(0,o.createElementBlock)("small",H,(0,o.toDisplayString)(Me.error.bu),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",J,[X,(0,o.createElementVNode)("div",ee,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.lastloct,"onUpdate:modelValue":t[12]||(t[12]=function(e){return Me.lastloct=e}),class:(0,o.normalizeClass)({"p-invalid":Me.errors.lastloct}),placeholder:"Masukan Lokasi terakhir"},null,8,["modelValue","class"]),Me.errors.lastloct?((0,o.openBlock)(),(0,o.createElementBlock)("small",te,(0,o.toDisplayString)(Me.errors.lastloct[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",re,[oe,(0,o.createElementVNode)("div",le,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.lastuser,"onUpdate:modelValue":t[13]||(t[13]=function(e){return Me.lastuser=e}),class:(0,o.normalizeClass)({"p-invalid":Me.errors.lastuser}),placeholder:"Masukan Pengguna Terakhir"},null,8,["modelValue","class"]),Me.errors.lastuser?((0,o.openBlock)(),(0,o.createElementBlock)("small",ae,(0,o.toDisplayString)(Me.errors.lastuser[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",se,[(0,o.createVNode)(Le,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,o.createVNode)(Le,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[14]||(t[14]=function(t){return e.$router.push("/master-peripheral")})})])],32)]),(0,o.createElementVNode)("div",ne,[(0,o.createElementVNode)("div",ie,[ce,(0,o.createElementVNode)("div",de,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.nama,"onUpdate:modelValue":t[16]||(t[16]=function(e){return Me.nama=e}),placeholder:"Masukan Nama",class:(0,o.normalizeClass)({"p-invalid":Me.errors.nama})},null,8,["modelValue","class"]),Me.errors.nama?((0,o.openBlock)(),(0,o.createElementBlock)("small",me,(0,o.toDisplayString)(Me.errors.nama[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",pe,[ue,(0,o.createElementVNode)("div",ke,[(0,o.createElementVNode)("div",he,[(0,o.createElementVNode)("img",{src:Me.preview,class:"master-image"},null,8,Ve)])])]),(0,o.createElementVNode)("div",ge,[ve,(0,o.createElementVNode)("div",fe,[(0,o.createElementVNode)("input",{type:"file",class:(0,o.normalizeClass)([{"p-invalid":Me.error.foto},"form-control"]),name:"foto",ref:"fileInput",onChange:t[17]||(t[17]=function(){return Ue.fileImage&&Ue.fileImage.apply(Ue,arguments)})},null,34),Me.error.foto?((0,o.openBlock)(),(0,o.createElementBlock)("small",Ne,(0,o.toDisplayString)(Me.error.foto),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",ye,[be,(0,o.createElementVNode)("div",Ee,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.prevloct,"onUpdate:modelValue":t[18]||(t[18]=function(e){return Me.prevloct=e}),class:(0,o.normalizeClass)({"p-invalid":Me.errors.prevloct}),placeholder:"Masukan Lokasi sebelumnya"},null,8,["modelValue","class"]),Me.errors.prevloct?((0,o.openBlock)(),(0,o.createElementBlock)("small",Ce,(0,o.toDisplayString)(Me.errors.prevloct[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",Be,[xe,(0,o.createElementVNode)("div",we,[(0,o.createVNode)(Te,{type:"text",modelValue:Me.prevuser,"onUpdate:modelValue":t[19]||(t[19]=function(e){return Me.prevuser=e}),class:(0,o.normalizeClass)({"p-invalid":Me.errors.prevuser}),placeholder:"Masukan Pengguna sebelumnya"},null,8,["modelValue","class"]),Me.errors.prevuser?((0,o.openBlock)(),(0,o.createElementBlock)("small",Se,(0,o.toDisplayString)(Me.errors.prevuser[0]),1)):(0,o.createCommentVNode)("",!0)])])])])])])},De.__scopeId="data-v-502173b7";const Te=De}}]);