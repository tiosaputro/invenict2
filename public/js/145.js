"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[145],{60145:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var o=i(5166),r={class:"card"},a=(0,o.createElementVNode)("div",{class:"p-grid p-dir-col"},[(0,o.createElementVNode)("div",{class:"p-col"},[(0,o.createElementVNode)("h4",null,"Divisi Refs")])],-1),s={class:"row"},d={class:"col-sm-6"},l={class:"card-body"},c={class:"p-fluid"},n={class:"p-field p-grid"},m=(0,o.createElementVNode)("label",{for:"tipe",class:"p-col-12 p-mb-2 p-md-2 p-mb-md-0",style:{width:"120px"}},"Divisi ID",-1),p={class:"p-col-3 p-md-6"},u={class:"p-fluid"},v={class:"p-field p-grid"},f=(0,o.createElementVNode)("label",{for:"tipe",class:"p-col-12 p-mb-2 p-md-2 p-mb-md-0",style:{width:"120px"}},"Divisi Code",-1),h={class:"p-col-3 p-md-6"},V={key:0,class:"p-error"},k={class:"p-fluid"},N={class:"p-field p-grid"},E=(0,o.createElementVNode)("label",{for:"kode",class:"p-col-12 p-mb-2 p-md-2 p-mb-md-0",style:{width:"120px"}},"Divisi Name",-1),b={class:"p-col-3 p-md-6"},g={key:0,class:"p-error"},y={class:"p-fluid"},C={class:"p-field p-grid"},_=(0,o.createElementVNode)("label",{for:"Status",class:"p-col-12 p-mb-2 p-md-2 p-mb-md-0",style:{width:"120px"}},"Divisi Verificator",-1),D={class:"p-col-3 p-md-6"},B={key:0,class:"p-error"},S={class:"form-group"};const x={data:function(){return{errors:[],div:[],verif:[],token:localStorage.getItem("token"),id:localStorage.getItem("id"),checkname:[],checkto:[]}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Divisi")||e.checkto.includes("/divisi-refs")?e.getDivisi():(e.$toast.add({severity:"error",summary:"403",detail:"Cannot Access This Page"}),setTimeout((function(){return e.$router.push("/dashboard")}),2e3))}))},getDivisi:function(){var e=this;this.axios.get("/api/edit-divisi/"+this.$route.params.code,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.div=t.data,e.getVerificator()})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},getVerificator:function(){var e=this;this.axios.get("/api/get-verificator/"+this.div.div_id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.verif=t.data}))},UpdateDivisi:function(){var e=this;this.errors=[],this.axios.put("/api/update-divisi/"+this.$route.params.code,this.div,{headers:{Authorization:"Bearer "+this.token}}).then((function(){e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Update"}),setTimeout((function(){return e.$router.push("/divisi-refs")}),1e3)})).catch((function(t){e.errors=t.response.data.errors}))}},render:function(e,t,i,x,w,U){var $=(0,o.resolveComponent)("Toast"),z=(0,o.resolveComponent)("Toolbar"),T=(0,o.resolveComponent)("InputText"),A=(0,o.resolveComponent)("Dropdown"),I=(0,o.resolveComponent)("Button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)($),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(z,{class:"p-mb-4"},{left:(0,o.withCtx)((function(){return[a]})),_:1}),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",d,[this.div?((0,o.openBlock)(),(0,o.createElementBlock)("form",{key:0,onSubmit:t[5]||(t[5]=(0,o.withModifiers)((function(){return U.UpdateDivisi&&U.UpdateDivisi.apply(U,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",n,[m,(0,o.createElementVNode)("div",p,[(0,o.createVNode)(T,{modelValue:w.div.div_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.div.div_id=e}),disabled:""},null,8,["modelValue"])])])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",v,[f,(0,o.createElementVNode)("div",h,[(0,o.createVNode)(T,{modelValue:w.div.div_code,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.div.div_code=e}),placeholder:"Masukan Divisi Code",class:(0,o.normalizeClass)({"p-invalid":w.errors.div_code}),autofocus:""},null,8,["modelValue","class"]),w.errors.div_code?((0,o.openBlock)(),(0,o.createElementBlock)("small",V,(0,o.toDisplayString)(w.errors.div_code[0]),1)):(0,o.createCommentVNode)("",!0)])])]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",N,[E,(0,o.createElementVNode)("div",b,[(0,o.createVNode)(T,{modelValue:w.div.div_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return w.div.div_name=e}),placeholder:"Masukan Divisi Name",class:(0,o.normalizeClass)({"p-invalid":w.errors.div_name})},null,8,["modelValue","class"]),w.errors.div_name?((0,o.openBlock)(),(0,o.createElementBlock)("small",g,(0,o.toDisplayString)(w.errors.div_name[0]),1)):(0,o.createCommentVNode)("",!0)])])]),(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",C,[_,(0,o.createElementVNode)("div",D,[(0,o.createVNode)(A,{modelValue:w.div.div_verificator,"onUpdate:modelValue":t[3]||(t[3]=function(e){return w.div.div_verificator=e}),options:w.verif,showClear:!0,optionLabel:"name",optionValue:"name",placeholder:"Select A Verificator",class:(0,o.normalizeClass)({"p-invalid":w.errors.div_verificator})},null,8,["modelValue","options","class"]),w.errors.div_verificator?((0,o.openBlock)(),(0,o.createElementBlock)("small",B,(0,o.toDisplayString)(w.errors.div_verificator[0]),1)):(0,o.createCommentVNode)("",!0)])])])]),(0,o.createElementVNode)("div",S,[(0,o.createVNode)(I,{class:"p-button-rounded p-button-primary p-mr-2 p-mb-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,o.createVNode)(I,{label:"Cancel",class:"p-button-rounded p-button-secondary p-mr-2 p-mb-2",icon:"pi pi-times",onClick:t[4]||(t[4]=function(t){return e.$router.push("/divisi-refs")})})])],32)):(0,o.createCommentVNode)("",!0)])])])])}},w=x}}]);