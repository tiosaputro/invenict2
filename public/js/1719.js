"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1719],{32441:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(23645),l=a.n(n)()((function(e){return e[1]}));l.push([e.id,".master-image[data-v-60532b0e]{box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);height:227pt}",""]);const i=l},71719:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Me});var n=a(5166);(0,n.pushScopeId)("data-v-60532b0e");var l={class:"card"},i=(0,n.createElementVNode)("h4",null,"Master Peripheral",-1),s={class:"row"},o={class:"col-sm-6"},r={class:"field grid"},c=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Kode",-1),d={class:"col-3 md-6"},m={class:"field grid"},u=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Merk",-1),p={class:"col-4"},v={key:0,class:"p-error"},h={class:"field grid"},k=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Tipe",-1),V={class:"col-3 md-6"},g={key:0,class:"p-error"},b={class:"field grid"},_=(0,n.createElementVNode)("label",{style:{width:"155px"}},"S/N",-1),N={class:"col-3 md-6"},f={key:0,class:"p-error"},E={class:"field grid"},y=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Tgl. Perolehan",-1),B={class:"col-12 md:col-6"},C={class:"flex items-center"},x=["value","onClick"],w={key:0,class:"p-error"},U={class:"field grid"},M=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Lama Garansi",-1),D={class:"col-12 md:col-6"},S={class:"p-inputgroup"},I=(0,n.createElementVNode)("span",{class:"p-inputgroup-addon"}," Tahun ",-1),T={key:0,class:"p-error"},z={class:"field grid"},P=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Kondisi",-1),j={class:"col-4"},L={key:0,class:"p-error"},W={class:"field grid"},$=(0,n.createElementVNode)("label",{style:{width:"155px"}},"QR-Code",-1),A={class:"col-12 md:col-6"},K={class:"p-inputgroup"},R={key:0,class:"p-error"},Y={class:"field grid"},G=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Bisnis Unit",-1),Z={class:"col-4"},Q={key:0,class:"p-error"},q={class:"field grid"},F=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Terakhir",-1),O={class:"col-3 md-6"},H={key:0,class:"p-error"},J={class:"field grid"},X=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Pengguna Terakhir",-1),ee={class:"col-3 md-6"},te={key:0,class:"p-error"},ae={class:"p-p-0 p-p-sm-1 p-p-md-2 p-p-lg-3"},ne={class:"col-sm-6"},le={class:"field grid"},ie=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Nama",-1),se={class:"col-12 md:col-4"},oe={key:0,class:"p-error"},re={class:"field grid"},ce=(0,n.createElementVNode)("label",{style:{width:"155px"}},null,-1),de={class:"col-10 md-6"},me={class:"card",style:{height:"23.5rem"}},ue=["src"],pe=["src"],ve={class:"field grid"},he=(0,n.createElementVNode)("label",{style:{width:"155px"}},null,-1),ke={class:"p-col-10 p-md-6"},Ve={class:"field grid"},ge=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Sebelumnya",-1),be={class:"col-12 md:col-4"},_e={key:0,class:"p-error"},Ne={class:"field grid"},fe=(0,n.createElementVNode)("label",{style:{width:"155px"}},"Penguna Sebelumnya",-1),Ee={class:"col-12 md:col-4"},ye={key:0,class:"p-error"};(0,n.popScopeId)();const Be={data:function(){return{aktif:!1,displayImage:!1,submitted:!1,errors:[],merks:[],kondi:[],bisnis:[],master:[],preview:null,invent_photo:null,mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id")}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Master Peripheral")||e.checkto.includes("/master-peripheral")?e.getMaster():e.$router.push("/access")})):this.$router.push("/login")},Scan:function(){var e=this;this.aktif=!1;var t=this.$router.resolve({name:"Scan"});window.open(t.href,"_blank"),setTimeout((function(){return e.getBarcode()}),2e3)},hapus:function(){this.master.invent_barcode=null,this.aktif=!0},getBarcode:function(){var e=this;this.master.invent_barcode=localStorage.getItem("barcode"),this.master.invent_barcode||setTimeout((function(){return e.getBarcode()}),3e3)},getBisnis:function(){var e=this;this.axios.get("/api/get-bisnis",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.bisnis=t.data}))},getMerk:function(){var e=this;this.axios.get("/api/getMerk",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.merks=t.data}))},getKondisi:function(){var e=this;this.axios.get("/api/getKondisi",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.kondi=t.data}))},getMaster:function(){var e=this;this.axios.get("/api/edit-mas/"+this.$route.params.code,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.master=t.data,e.getMerk(),e.getBisnis(),e.getKondisi()})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},fileImage:function(e){this.invent_photo=e.target.files[0],this.displayImage=!0,this.preview=URL.createObjectURL(e.target.files[0]),this.createImage(this.invent_photo)},createImage:function(e){new Image;var t=new FileReader,a=this.master;t.onload=function(e){a.image=e.target.result},t.readAsDataURL(e)},UpdateMaster:function(){var e=this;this.submitted=!0,null!=this.master.invent_desc&&null!=this.master.invent_brand&&null!=this.master.invent_type&&null!=this.master.invent_sn&&null!=this.master.invent_tgl_perolehan&&null!=this.master.invent_lama_garansi&&null!=this.master.invent_kondisi&&null!=this.master.invent_barcode&&null!=this.master.invent_bu&&null!=this.master.invent_lokasi_update&&null!=this.master.invent_pengguna_update&&null!=this.master.invent_lokasi_previous&&null!=this.master.invent_pengguna_previous&&this.axios.put("/api/update-mas/"+this.$route.params.code,this.master,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){localStorage.removeItem("barcode"),setTimeout((function(){return e.$router.push("/master-peripheral")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Update"}),console.log(t.data)})).catch((function(t){422==t.response.status&&(e.submitted=!1,e.errors=t.response.data.errors)}))}}};var Ce=a(93379),xe=a.n(Ce),we=a(32441),Ue={insert:"head",singleton:!1};xe()(we.Z,Ue);we.Z.locals;Be.render=function(e,t,a,Be,Ce,xe){var we=(0,n.resolveComponent)("Toast"),Ue=(0,n.resolveComponent)("Toolbar"),Me=(0,n.resolveComponent)("InputText"),De=(0,n.resolveComponent)("Dropdown"),Se=(0,n.resolveComponent)("Button"),Ie=(0,n.resolveComponent)("DatePicker"),Te=(0,n.resolveComponent)("InputNumber"),ze=(0,n.resolveDirective)("tooltip");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(we),(0,n.createElementVNode)("div",l,[(0,n.createVNode)(Ue,{class:"mb-4"},{start:(0,n.withCtx)((function(){return[i]})),_:1}),(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("form",{onSubmit:t[15]||(t[15]=(0,n.withModifiers)((function(){return xe.UpdateMaster&&xe.UpdateMaster.apply(xe,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",r,[c,(0,n.createElementVNode)("div",d,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_code,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Ce.master.invent_code=e}),disabled:""},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",m,[u,(0,n.createElementVNode)("div",p,[(0,n.createVNode)(De,{modelValue:Ce.master.invent_brand,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Ce.master.invent_brand=e}),options:Ce.merks,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Merk",class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_brand})},null,8,["modelValue","options","class"]),Ce.submitted&&!Ce.master.invent_brand?((0,n.openBlock)(),(0,n.createElementBlock)("small",v,"Merk Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",h,[k,(0,n.createElementVNode)("div",V,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_type,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Ce.master.invent_type=e}),placeholder:"Masukan Tipe",class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_type})},null,8,["modelValue","class"]),Ce.submitted&&!Ce.master.invent_type?((0,n.openBlock)(),(0,n.createElementBlock)("small",g,"Type Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",b,[_,(0,n.createElementVNode)("div",N,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_sn,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Ce.master.invent_sn=e}),placeholder:"Masukan S/N",class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_sn})},null,8,["modelValue","class"]),Ce.submitted&&!Ce.master.invent_sn?((0,n.openBlock)(),(0,n.createElementBlock)("small",f,"S/N Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",E,[y,(0,n.createElementVNode)("div",B,[(0,n.createVNode)(Ie,{modelValue:Ce.master.invent_tgl_perolehan,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Ce.master.invent_tgl_perolehan=e}),masks:Ce.mask},{default:(0,n.withCtx)((function(e){var a=e.inputValue,l=e.togglePopover;return[(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:a,onClick:l,placeholder:"Pilih Tanggal",readonly:""},null,8,x),Ce.master.invent_tgl_perolehan?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(Se,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return Ce.master.invent_tgl_perolehan=null})},null,512)),[[ze,"Click to delete"]]):((0,n.openBlock)(),(0,n.createBlock)(Se,{key:0,icon:"pi pi-calendar",onClick:l},null,8,["onClick"]))])]})),_:1},8,["modelValue","masks"]),Ce.submitted&&!Ce.master.invent_tgl_perolehan?((0,n.openBlock)(),(0,n.createElementBlock)("small",w," Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",U,[M,(0,n.createElementVNode)("div",D,[(0,n.createElementVNode)("div",S,[(0,n.createVNode)(Te,{modelValue:Ce.master.invent_lama_garansi,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Ce.master.invent_lama_garansi=e}),placeholder:"Masukan Garansi",class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_lama_garansi})},null,8,["modelValue","class"]),I]),Ce.submitted&&!Ce.master.invent_lama_garansi?((0,n.openBlock)(),(0,n.createElementBlock)("small",T,"Garansi Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",z,[P,(0,n.createElementVNode)("div",j,[(0,n.createVNode)(De,{modelValue:Ce.master.invent_kondisi,"onUpdate:modelValue":t[7]||(t[7]=function(e){return Ce.master.invent_kondisi=e}),options:Ce.kondi,showClear:!0,filter:!0,optionLabel:"name",optionValue:"code",placeholder:"Pilih Kondisi",class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_kondisi})},null,8,["modelValue","options","class"]),Ce.submitted&&!Ce.master.invent_kondisi?((0,n.openBlock)(),(0,n.createElementBlock)("small",L,"Bisnis Unit Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",W,[$,(0,n.createElementVNode)("div",A,[(0,n.createElementVNode)("div",K,[Ce.master.invent_barcode?((0,n.openBlock)(),(0,n.createBlock)(Me,{key:0,modelValue:Ce.master.invent_barcode,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Ce.master.invent_barcode=e}),readonly:""},null,8,["modelValue"])):(0,n.createCommentVNode)("",!0),Ce.master.invent_barcode?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(Se,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[9]||(t[9]=function(e){return xe.hapus()})},null,512)),[[ze,"Click to delete"]]):(0,n.createCommentVNode)("",!0),Ce.aktif?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)(Se,{key:2,icon:"bi bi-qr-code-scan",class:"p-button p-button-info",onClick:t[10]||(t[10]=function(e){return xe.Scan()})},null,512)),[[ze,"Click to scan"]]):(0,n.createCommentVNode)("",!0)]),Ce.submitted&&!Ce.master.invent_barcode?((0,n.openBlock)(),(0,n.createElementBlock)("small",R," QR-Code Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",Y,[G,(0,n.createElementVNode)("div",Z,[(0,n.createVNode)(De,{modelValue:Ce.master.invent_bu,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Ce.master.invent_bu=e}),options:Ce.bisnis,optionLabel:"name",showClear:!0,filter:!0,optionValue:"code",placeholder:"Pilih Bisnis Unit",class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_bu})},null,8,["modelValue","options","class"]),Ce.submitted&&!Ce.master.invent_bu?((0,n.openBlock)(),(0,n.createElementBlock)("small",Q,"Bisnis Unit Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",q,[F,(0,n.createElementVNode)("div",O,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_lokasi_update,"onUpdate:modelValue":t[12]||(t[12]=function(e){return Ce.master.invent_lokasi_update=e}),class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_lokasi_update}),placeholder:"Masukan Lokasi terakhir",disabled:""},null,8,["modelValue","class"]),Ce.submitted&&!Ce.master.invent_lokasi_update?((0,n.openBlock)(),(0,n.createElementBlock)("small",H,"Lokasi Terakhir Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",J,[X,(0,n.createElementVNode)("div",ee,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_pengguna_update,"onUpdate:modelValue":t[13]||(t[13]=function(e){return Ce.master.invent_pengguna_update=e}),class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_pengguna_update}),placeholder:"Masukan Pengguna Terakhir",disabled:""},null,8,["modelValue","class"]),Ce.submitted&&!Ce.master.invent_pengguna_update?((0,n.openBlock)(),(0,n.createElementBlock)("small",te,"Pengguna Terakhir Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",ae,[(0,n.createVNode)(Se,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,n.createVNode)(Se,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[14]||(t[14]=function(t){return e.$router.push("/master-peripheral")})})])],32)]),(0,n.createElementVNode)("div",ne,[(0,n.createElementVNode)("div",le,[ie,(0,n.createElementVNode)("div",se,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_desc,"onUpdate:modelValue":t[16]||(t[16]=function(e){return Ce.master.invent_desc=e}),placeholder:"Masukan Nama",class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_desc}),autofocus:""},null,8,["modelValue","class"]),Ce.submitted&&!Ce.master.invent_desc?((0,n.openBlock)(),(0,n.createElementBlock)("small",oe,"Nama Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",re,[ce,(0,n.createElementVNode)("div",de,[(0,n.createElementVNode)("div",me,[Ce.preview?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,src:Ce.preview,class:"master-image"},null,8,ue)):((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:1,src:"/master_peripheral/"+Ce.master.invent_photo,class:"master-image"},null,8,pe))])])]),(0,n.createElementVNode)("div",ve,[he,(0,n.createElementVNode)("div",ke,[(0,n.createElementVNode)("input",{type:"file",name:"foto",ref:"fileInput",class:"form-control",onChange:t[17]||(t[17]=function(){return xe.fileImage&&xe.fileImage.apply(xe,arguments)})},null,544)])]),(0,n.createElementVNode)("div",Ve,[ge,(0,n.createElementVNode)("div",be,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_lokasi_previous,"onUpdate:modelValue":t[18]||(t[18]=function(e){return Ce.master.invent_lokasi_previous=e}),class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_lokasi_previous}),placeholder:"Masukan Lokasi sebelumnya",disabled:""},null,8,["modelValue","class"]),Ce.submitted&&!Ce.master.invent_lokasi_previous?((0,n.openBlock)(),(0,n.createElementBlock)("small",_e,"Lokasi Sebelumnya Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("div",Ne,[fe,(0,n.createElementVNode)("div",Ee,[(0,n.createVNode)(Me,{type:"text",modelValue:Ce.master.invent_pengguna_previous,"onUpdate:modelValue":t[19]||(t[19]=function(e){return Ce.master.invent_pengguna_previous=e}),class:(0,n.normalizeClass)({"p-invalid":Ce.submitted&&!Ce.master.invent_pengguna_previous}),placeholder:"Masukan Pengguna sebelumnya",disabled:""},null,8,["modelValue","class"]),Ce.submitted&&!Ce.master.invent_pengguna_previous?((0,n.openBlock)(),(0,n.createElementBlock)("small",ye,"Pengguna Terakhir Wajib Diisi. ")):(0,n.createCommentVNode)("",!0)])])])])])])},Be.__scopeId="data-v-60532b0e";const Me=Be}}]);