"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1399],{40751:(e,t,a)=>{a.d(t,{Z:()=>i});var l=a(23645),o=a.n(l)()((function(e){return e[1]}));o.push([e.id,".mutasi-image[data-v-5d6a277e]{box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);-o-object-fit:contain;object-fit:contain;width:450px}",""]);const i=o},51399:(e,t,a)=>{a.r(t),a.d(t,{default:()=>oe});var l=a(70821),o=function(e){return(0,l.pushScopeId)("data-v-5d6a277e"),e=e(),(0,l.popScopeId)(),e},i={class:"card"},n=o((function(){return(0,l.createElementVNode)("h4",null,"Mutasi Peripheral",-1)})),r={class:"row"},s={class:"col-sm-6"},c={class:"field grid"},u=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Peripheral",-1)})),d={class:"field col-12 md:col-6"},m={class:"field grid"},p=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"S/N",-1)})),k={class:"field col-12 md:col-6"},f={class:"field grid"},V=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"From Date",-1)})),h={class:"col-12 md:col-6"},v={class:"flex items-center"},g=["value","onClick"],b={key:0,class:"p-error"},N={class:"field grid"},E=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"To Date",-1)})),_={class:"col-12 md:col-6"},C={class:"flex items-center"},y=["value","onClick"],x={class:"field grid"},B=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Location",-1)})),w={class:"col-10 md:col-4"},D={key:0,class:"p-error"},U={class:"field grid"},S=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"User",-1)})),M={class:"col-12 md:col-6"},z={key:0,class:"p-error"},P={key:1,class:"p-error"},T={class:"field grid"},$=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Division User",-1)})),L={class:"col-12 md:col-6"},I={key:0,class:"p-error"},A={key:1,class:"p-error"},Y={class:"field grid"},j=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Business Unit",-1)})),Z={class:"col-12 md:col-6"},K={key:0,class:"p-error"},R={key:1,class:"p-error"},q={class:"field grid"},F=o((function(){return(0,l.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"145px"}},"Remark",-1)})),G={class:"col-12 md:col-6"},H={key:0,class:"p-error"},J={key:1,class:"p-error"},O={class:"form-group"},Q={class:"col-sm-6"},W=["src"];const X={data:function(){return{submitted:!1,errors:[],kode:null,fromdate:new Date,todate:"",ket:null,user:null,lokasi:null,detail:[],kodeperi:[],divisi:[],invent_bu:null,invent_sn:null,invent_divisi:null,sn:[],bu:[],mutasi:[],mut:[],mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id")}},mounted:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("/api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Mutasi Peripheral")||e.checkto.includes("/mutasi-peripheral")?e.getMutasi():e.$router.push("/access")})):this.$router.push("/login")},getMutasi:function(){var e=this;this.axios.get("/api/edit-mut/"+this.$route.params.code,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.mut=t.data})),this.getKode()},getKode:function(){var e=this;this.axios.get("/api/get-kode-peripheral",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.kodeperi=t.data.kode,e.divisi=t.data.divisi,e.bu=t.data.bu})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},UpdateMutasi:function(){var e=this;this.$confirm.require({message:"Are you sure to update this data?",header:"Confirmation",icon:"pi pi-info-circle",acceptClass:"p-button",acceptLabel:"Yes",rejectLabel:"No",accept:function(){e.submitted=!0,null!=e.mut.imutasi_tgl_dari&&null!=e.mut.imutasi_keterangan&&null!=e.mut.imutasi_pengguna&&null!=e.mut.imutasi_divisi&&null!=e.mut.imutasi_bu&&null!=e.mut.imutasi_lokasi&&e.axios.put("/api/update-mut/"+e.$route.params.code,e.mut,{headers:{Authorization:"Bearer "+e.token}}).then((function(){setTimeout((function(){return e.$router.push("/mutasi-peripheral")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Update"})})).catch((function(t){e.errors=t.response.data.errors,e.submitted=!1}))},reject:function(){}})}}};var ee=a(93379),te=a.n(ee),ae=a(40751),le={insert:"head",singleton:!1};te()(ae.Z,le);ae.Z.locals;const oe=(0,a(83744).Z)(X,[["render",function(e,t,a,o,X,ee){var te=(0,l.resolveComponent)("ConfirmDialog"),ae=(0,l.resolveComponent)("Toast"),le=(0,l.resolveComponent)("Toolbar"),oe=(0,l.resolveComponent)("InputText"),ie=(0,l.resolveComponent)("Button"),ne=(0,l.resolveComponent)("DatePicker"),re=(0,l.resolveComponent)("Dropdown"),se=(0,l.resolveComponent)("Textarea");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(te),(0,l.createVNode)(ae),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(le,{class:"mb-4"},{start:(0,l.withCtx)((function(){return[n]})),_:1}),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("form",{onSubmit:t[12]||(t[12]=(0,l.withModifiers)((function(){return ee.UpdateMutasi&&ee.UpdateMutasi.apply(ee,arguments)}),["prevent"]))},[(0,l.createElementVNode)("div",c,[u,(0,l.createElementVNode)("div",d,[(0,l.createVNode)(oe,{modelValue:X.mut.invent_code,"onUpdate:modelValue":t[0]||(t[0]=function(e){return X.mut.invent_code=e}),disabled:""},null,8,["modelValue"])])]),(0,l.createElementVNode)("div",m,[p,(0,l.createElementVNode)("div",k,[(0,l.createVNode)(oe,{modelValue:X.mut.invent_sn,"onUpdate:modelValue":t[1]||(t[1]=function(e){return X.mut.invent_sn=e}),disabled:""},null,8,["modelValue"])])]),(0,l.createElementVNode)("div",f,[V,(0,l.createElementVNode)("div",h,[(0,l.createVNode)(ne,{modelValue:X.mut.imutasi_tgl_dari,"onUpdate:modelValue":t[3]||(t[3]=function(e){return X.mut.imutasi_tgl_dari=e}),masks:X.mask},{default:(0,l.withCtx)((function(e){var a=e.inputValue,o=e.togglePopover;return[(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:a,onClick:o,placeholder:"Pilih Dari Tanggal",readonly:""},null,8,g),X.fromdate?((0,l.openBlock)(),(0,l.createBlock)(ie,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[2]||(t[2]=function(e){return X.fromdate=""})})):((0,l.openBlock)(),(0,l.createBlock)(ie,{key:0,icon:"pi pi-calendar",onClick:o},null,8,["onClick"]))])]})),_:1},8,["modelValue","masks"]),X.submitted&&!X.fromdate?((0,l.openBlock)(),(0,l.createElementBlock)("small",b," Dari Tgl Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",N,[E,(0,l.createElementVNode)("div",_,[(0,l.createVNode)(ne,{modelValue:X.mut.imutasi_tgl_sd,"onUpdate:modelValue":t[5]||(t[5]=function(e){return X.mut.imutasi_tgl_sd=e}),masks:X.mask,"min-date":X.fromdate},{default:(0,l.withCtx)((function(e){var a=e.inputValue,o=e.togglePopover;return[(0,l.createElementVNode)("div",C,[(0,l.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:a,onClick:o,placeholder:"Pilih SD Tanggal",readonly:""},null,8,y),X.todate?((0,l.openBlock)(),(0,l.createBlock)(ie,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return X.todate=""})})):((0,l.openBlock)(),(0,l.createBlock)(ie,{key:0,icon:"pi pi-calendar",onClick:o},null,8,["onClick"]))])]})),_:1},8,["modelValue","masks","min-date"])])]),(0,l.createElementVNode)("div",x,[B,(0,l.createElementVNode)("div",w,[(0,l.createVNode)(oe,{type:"text",modelValue:X.mut.imutasi_lokasi,"onUpdate:modelValue":t[6]||(t[6]=function(e){return X.mut.imutasi_lokasi=e}),placeholder:"Masukan Lokasi. . .",class:(0,l.normalizeClass)({"p-invalid":X.submitted&&!X.lokasi})},null,8,["modelValue","class"]),X.submitted&&!X.lokasi?((0,l.openBlock)(),(0,l.createElementBlock)("small",D,"Lokasi Belum Diisi. ")):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",U,[S,(0,l.createElementVNode)("div",M,[(0,l.createVNode)(oe,{type:"text",modelValue:X.mut.imutasi_pengguna,"onUpdate:modelValue":t[7]||(t[7]=function(e){return X.mut.imutasi_pengguna=e}),placeholder:"Masukan Pengguna . . .",class:(0,l.normalizeClass)({"p-invalid":X.submitted&&!X.user})},null,8,["modelValue","class"]),X.submitted&&!X.user?((0,l.openBlock)(),(0,l.createElementBlock)("small",z,"Pengguna Belum Diisi. ")):(0,l.createCommentVNode)("",!0),X.errors.user?((0,l.openBlock)(),(0,l.createElementBlock)("small",P,(0,l.toDisplayString)(X.errors.user[0]),1)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",T,[$,(0,l.createElementVNode)("div",L,[(0,l.createVNode)(re,{modelValue:X.mut.imutasi_divisi,"onUpdate:modelValue":t[8]||(t[8]=function(e){return X.mut.imutasi_divisi=e}),options:X.divisi,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Select",class:(0,l.normalizeClass)({"p-invalid":X.submitted&&!X.mut.imutasi_divisi})},null,8,["modelValue","options","class"]),X.submitted&&!X.mut.imutasi_divisi?((0,l.openBlock)(),(0,l.createElementBlock)("small",I,"Division User not filled. ")):(0,l.createCommentVNode)("",!0),X.errors.imutasi_divisi?((0,l.openBlock)(),(0,l.createElementBlock)("small",A,(0,l.toDisplayString)(X.errors.imutasi_divisi[0]),1)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",Y,[j,(0,l.createElementVNode)("div",Z,[(0,l.createVNode)(re,{modelValue:X.mut.imutasi_bu,"onUpdate:modelValue":t[9]||(t[9]=function(e){return X.mut.imutasi_bu=e}),options:X.bu,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Select",class:(0,l.normalizeClass)({"p-invalid":X.submitted&&!X.mut.imutasi_bu})},null,8,["modelValue","options","class"]),X.submitted&&!X.mut.imutasi_bu?((0,l.openBlock)(),(0,l.createElementBlock)("small",K,"Business Unit not filled. ")):(0,l.createCommentVNode)("",!0),X.errors.imutasi_bu?((0,l.openBlock)(),(0,l.createElementBlock)("small",R,(0,l.toDisplayString)(X.errors.imutasi_bu[0]),1)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",q,[F,(0,l.createElementVNode)("div",G,[(0,l.createVNode)(se,{modelValue:X.mut.imutasi_keterangan,"onUpdate:modelValue":t[10]||(t[10]=function(e){return X.mut.imutasi_keterangan=e}),autoResize:!0,rows:"5",cols:"20",placeholder:"Enter remark",class:(0,l.normalizeClass)({"p-invalid":X.submitted&&!X.mut.imutasi_keterangan})},null,8,["modelValue","class"]),X.submitted&&!X.mut.imutasi_keterangan?((0,l.openBlock)(),(0,l.createElementBlock)("small",H,"Keterangan Belum Diisi. ")):(0,l.createCommentVNode)("",!0),X.errors.imutasi_keterangan?((0,l.openBlock)(),(0,l.createElementBlock)("small",J,(0,l.toDisplayString)(X.errors.imutasi_keterangan[0]),1)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",O,[(0,l.createVNode)(ie,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Update",type:"submit"}),(0,l.createVNode)(ie,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[11]||(t[11]=function(t){return e.$router.push("/mutasi-peripheral")})})])],32)]),(0,l.createElementVNode)("div",Q,[(0,l.createElementVNode)("img",{src:"/master_peripheral/"+X.mut.invent_photo,class:"mutasi-image"},null,8,W)])])])])}],["__scopeId","data-v-5d6a277e"]])}}]);