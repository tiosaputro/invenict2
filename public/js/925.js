"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[925],{94401:(e,t,l)=>{l.d(t,{Z:()=>n});var o=l(23645),r=l.n(o)()((function(e){return e[1]}));r.push([e.id,".pegawai-image[data-v-5a665f4c]{box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);width:100px}",""]);const n=r},20925:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Ne});var o=l(70821),r=function(e){return(0,o.pushScopeId)("data-v-5a665f4c"),e=e(),(0,o.popScopeId)(),e},n={class:"card"},a=r((function(){return(0,o.createElementVNode)("h4",null,"Cash Advance",-1)})),i={class:"card"},c={class:"p-fluid formgrid grid"},s={class:"field grid col"},d=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"160px"}},"No. Request",-1)})),u={class:"col-fixed"},m={key:0,class:"p-error"},p={key:1,class:"p-error"},h={key:0,class:"field grid col"},g=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"160px"}},"No Detail",-1)})),f={class:"col-fixed"},k={key:0,class:"p-error"},V={key:1,class:"p-error"},v={key:0,class:"p-fluid formgrid grid"},N={class:"field grid col"},y=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"160px"}},"Requestor",-1)})),b={class:"col-fixed"},C={key:0,class:"field grid col"},x=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"160px"}},"Pengguna",-1)})),q={class:"col-fixed"},E={key:1,class:"p-fluid formgrid grid"},B={class:"field grid col"},w=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"160px"}},"Tgl. Request",-1)})),_={class:"col-fixed"},T={key:0,class:"field grid col"},D=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"160px"}},"Bisnis Unit",-1)})),P={class:"col-fixed"},S={class:"card-body"},U={class:"field grid"},j=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"180px"}},"Jumlah",-1)})),I={class:"col-fixed w-9rem"},z={key:0,class:"p-error"},A={class:"field grid"},$=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"180px"}},"Tgl. Submit",-1)})),M={class:"col-12 md:col-3"},R={class:"flex items-center"},Y=["value","onClick"],Z={class:"field grid"},L=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"180px"}},"Tgl. Terima Cash",-1)})),J={class:"col-12 md:col-3"},F={class:"flex items-center"},K=["value","onClick"],G={class:"field grid"},H=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"180px"}},"Tgl. Pembelian",-1)})),O={class:"col-12 md:col-3"},Q={class:"flex items-center"},W=["value","onClick"],X={class:"field grid"},ee=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"180px"}},"Tgl. Terima Barang",-1)})),te={class:"col-12 md:col-3"},le={class:"flex items-center"},oe=["value","onClick"],re={class:"field grid"},ne=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"180px"}},"Tgl. Penyerahan Ke User",-1)})),ae={class:"col-12 md:col-3"},ie={class:"flex items-center"},ce=["value","onClick"],se={class:"field grid"},de=r((function(){return(0,o.createElementVNode)("label",{class:"col-fixed w-9rem",style:{width:"180px"}},"Tgl. Closing",-1)})),ue={class:"col-12 md:col-3"},me={class:"flex items-center"},pe=["value","onClick"],he={class:"form-group"};const ge={data:function(){return{errors:[],error:[],req:[],ca:[],detail:[],noreq:"",ireqd_id:"",jum:null,tglsub:new Date,tglclosing:"",tglrecvcash:"",tglbuy:"",tglrecvunit:"",tgltouser:"",mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),id:localStorage.getItem("id"),checkname:[],checkto:[]}},watch:{tglsub:function(){this.tglrecvcash="",this.tglbuy="",this.tglrecvunit="",this.tgltouser="",this.tglclosing=""},tglrecvcash:function(){this.tglbuy="",this.tglrecvunit="",this.tgltouser="",this.tglclosing=""},tglbuy:function(){this.tglrecvunit="",this.tgltouser="",this.tglclosing=""},tglrecvunit:function(){this.tgltouser="",this.tglclosing=""},tgltouser:function(){this.tglclosing=""},noreq:function(){this.error.noreq="",this.errors.ireq_id=""},ireqd_id:function(){this.error.ireqd_id="",this.errors.ireqd_id=""},jum:function(){this.error.jum="",this.errors.jum=""}},mounted:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Cash Advance")||e.checkto.includes("/cash-advance")?e.getNoreq():e.$router.push("/access")})):this.$router.push("/login")},getDetail:function(e){var t=this;this.noreq&&(this.axios.get("api/getDetail/"+e,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){t.detail=e.data,t.ireqd_id=""})),(this.errors.noreq||this.error.noreq)&&(this.errors.noreq,this.error))},get:function(e,t){var l=this;this.noreq&&this.ireqd_id&&(this.axios.get("api/getNameBu/"+e+"/"+t,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){l.ca=e.data})),(this.errors.noreq||this.error.noreq)&&(this.errors.noreq,this.error))},getNoreq:function(){var e=this;this.axios.get("api/getNoreq",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.req=t.data})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},CreateCash:function(){var e=this;if(this.errors=[],this.error=[],null!=this.noreq||null!=this.ireqd_id){var t=new FormData;t.append("ireq_id",this.noreq),t.append("ireqd_id",this.ireqd_id),t.append("jum",this.jum),t.append("tglrecvunit",this.tglrecvunit),t.append("tglbuy",this.tglbuy),t.append("tglrecvcash",this.tglrecvcash),t.append("tglsub",this.tglsub),t.append("tgltouser",this.tgltouser),this.axios.post("api/add-cash",t,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){setTimeout((function(){return e.$router.push("/cash-advance")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(t){e.errors=t.response.data.errors}))}else this.error.noreq="No Request Belum Diisi",this.error.ireqd_id="No Detail Belum Diisi"}}};var fe=l(93379),ke=l.n(fe),Ve=l(94401),ve={insert:"head",singleton:!1};ke()(Ve.Z,ve);Ve.Z.locals;const Ne=(0,l(83744).Z)(ge,[["render",function(e,t,l,r,ge,fe){var ke=(0,o.resolveComponent)("Toast"),Ve=(0,o.resolveComponent)("Toolbar"),ve=(0,o.resolveComponent)("Dropdown"),Ne=(0,o.resolveComponent)("InputText"),ye=(0,o.resolveComponent)("InputNumber"),be=(0,o.resolveComponent)("Button"),Ce=(0,o.resolveComponent)("DatePicker");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(ke),(0,o.createElementVNode)("div",n,[(0,o.createVNode)(Ve,{class:"mb-4"},{start:(0,o.withCtx)((function(){return[a]})),_:1}),this.ca?((0,o.openBlock)(),(0,o.createElementBlock)("form",{key:0,onSubmit:t[22]||(t[22]=(0,o.withModifiers)((function(){return fe.CreateCash&&fe.CreateCash.apply(fe,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",s,[d,(0,o.createElementVNode)("div",u,[(0,o.createVNode)(ve,{modelValue:ge.noreq,"onUpdate:modelValue":t[0]||(t[0]=function(e){return ge.noreq=e}),options:ge.req,optionLabel:"name",optionValue:"code",showClear:!0,onChange:t[1]||(t[1]=function(e){return fe.getDetail(ge.noreq)}),placeholder:"Pilih No. Request",class:(0,o.normalizeClass)({"p-invalid":ge.errors.noreq}),autofocus:""},null,8,["modelValue","options","class"]),ge.errors.ireq_id?((0,o.openBlock)(),(0,o.createElementBlock)("small",m,(0,o.toDisplayString)(ge.errors.ireq_id[0]),1)):(0,o.createCommentVNode)("",!0),ge.error.noreq?((0,o.openBlock)(),(0,o.createElementBlock)("small",p,(0,o.toDisplayString)(ge.error.noreq),1)):(0,o.createCommentVNode)("",!0)])]),ge.noreq?((0,o.openBlock)(),(0,o.createElementBlock)("div",h,[g,(0,o.createElementVNode)("div",f,[(0,o.createVNode)(ve,{modelValue:ge.ireqd_id,"onUpdate:modelValue":t[2]||(t[2]=function(e){return ge.ireqd_id=e}),options:ge.detail,optionLabel:"code",optionValue:"code",showClear:!0,onChange:t[3]||(t[3]=function(e){return fe.get(ge.noreq,ge.ireqd_id)}),placeholder:"Pilih No. Detail",class:(0,o.normalizeClass)({"p-invalid":ge.errors.ireqd_id}),autofocus:""},null,8,["modelValue","options","class"]),ge.errors.ireqd_id?((0,o.openBlock)(),(0,o.createElementBlock)("small",k,(0,o.toDisplayString)(ge.errors.ireqd_id[0]),1)):(0,o.createCommentVNode)("",!0),ge.error.ireqd_id?((0,o.openBlock)(),(0,o.createElementBlock)("small",V,(0,o.toDisplayString)(ge.error.ireqd_id),1)):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0)]),ge.noreq&&ge.ireqd_id?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("div",N,[y,(0,o.createElementVNode)("div",b,[(0,o.createVNode)(Ne,{type:"text",modelValue:ge.ca.req,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ge.ca.req=e}),disabled:""},null,8,["modelValue"])])]),ge.noreq&&ge.ireqd_id?((0,o.openBlock)(),(0,o.createElementBlock)("div",C,[x,(0,o.createElementVNode)("div",q,[(0,o.createVNode)(Ne,{type:"text",modelValue:ge.ca.ireq_user,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ge.ca.ireq_user=e}),disabled:""},null,8,["modelValue"])])])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),ge.noreq&&ge.ireqd_id?((0,o.openBlock)(),(0,o.createElementBlock)("div",E,[(0,o.createElementVNode)("div",B,[w,(0,o.createElementVNode)("div",_,[(0,o.createVNode)(Ne,{type:"text",modelValue:ge.ca.ireq_date,"onUpdate:modelValue":t[6]||(t[6]=function(e){return ge.ca.ireq_date=e}),disabled:""},null,8,["modelValue"])])]),ge.noreq&&ge.ireqd_id?((0,o.openBlock)(),(0,o.createElementBlock)("div",T,[D,(0,o.createElementVNode)("div",P,[(0,o.createVNode)(Ne,{type:"text",modelValue:ge.ca.bu,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ge.ca.bu=e}),disabled:""},null,8,["modelValue"])])])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("div",U,[j,(0,o.createElementVNode)("div",I,[(0,o.createVNode)(ye,{mode:"currency",currency:"IDR",locale:"id",modelValue:ge.jum,"onUpdate:modelValue":t[8]||(t[8]=function(e){return ge.jum=e}),placeholder:"Masukan Jumlah",class:(0,o.normalizeClass)({"p-invalid":ge.errors.jum})},null,8,["modelValue","class"]),ge.errors.jum?((0,o.openBlock)(),(0,o.createElementBlock)("small",z,(0,o.toDisplayString)(ge.errors.jum[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",A,[$,(0,o.createElementVNode)("div",M,[(0,o.createVNode)(Ce,{modelValue:ge.tglsub,"onUpdate:modelValue":t[10]||(t[10]=function(e){return ge.tglsub=e}),masks:ge.mask},{default:(0,o.withCtx)((function(e){var l=e.inputValue,r=e.togglePopover;return[(0,o.createElementVNode)("div",R,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:l,onClick:r,readonly:"",placeholder:"Pilih Tgl. Submit"},null,8,Y),ge.tglsub?((0,o.openBlock)(),(0,o.createBlock)(be,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[9]||(t[9]=function(e){return ge.tglsub=""})})):((0,o.openBlock)(),(0,o.createBlock)(be,{key:0,icon:"pi pi-calendar",onClick:r},null,8,["onClick"]))])]})),_:1},8,["modelValue","masks"])])]),(0,o.createElementVNode)("div",Z,[L,(0,o.createElementVNode)("div",J,[(0,o.createVNode)(Ce,{modelValue:ge.tglrecvcash,"onUpdate:modelValue":t[12]||(t[12]=function(e){return ge.tglrecvcash=e}),"min-date":this.tglsub,masks:ge.mask},{default:(0,o.withCtx)((function(e){var l=e.inputValue,r=e.togglePopover;return[(0,o.createElementVNode)("div",F,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:l,onClick:r,readonly:"",placeholder:"Pilih Tgl. Terima Cash"},null,8,K),ge.tglrecvcash?((0,o.openBlock)(),(0,o.createBlock)(be,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[11]||(t[11]=function(e){return ge.tglrecvcash=""})})):((0,o.openBlock)(),(0,o.createBlock)(be,{key:0,icon:"pi pi-calendar",onClick:r},null,8,["onClick"]))])]})),_:1},8,["modelValue","min-date","masks"])])]),(0,o.createElementVNode)("div",G,[H,(0,o.createElementVNode)("div",O,[(0,o.createVNode)(Ce,{modelValue:ge.tglbuy,"onUpdate:modelValue":t[14]||(t[14]=function(e){return ge.tglbuy=e}),"min-date":this.tglrecvcash||this.tglsub,masks:ge.mask},{default:(0,o.withCtx)((function(e){var l=e.inputValue,r=e.togglePopover;return[(0,o.createElementVNode)("div",Q,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:l,onClick:r,readonly:"",placeholder:"Pilih Tgl. Pembelian"},null,8,W),ge.tglbuy?((0,o.openBlock)(),(0,o.createBlock)(be,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[13]||(t[13]=function(e){return ge.tglbuy=""})})):((0,o.openBlock)(),(0,o.createBlock)(be,{key:0,icon:"pi pi-calendar",onClick:r},null,8,["onClick"]))])]})),_:1},8,["modelValue","min-date","masks"])])]),(0,o.createElementVNode)("div",X,[ee,(0,o.createElementVNode)("div",te,[(0,o.createVNode)(Ce,{modelValue:ge.tglrecvunit,"onUpdate:modelValue":t[16]||(t[16]=function(e){return ge.tglrecvunit=e}),"min-date":this.tglbuy||this.tglrecvcash||this.tglsub,masks:ge.mask},{default:(0,o.withCtx)((function(e){var l=e.inputValue,r=e.togglePopover;return[(0,o.createElementVNode)("div",le,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:l,onClick:r,readonly:"",placeholder:"Pilih Tgl Terima Barang"},null,8,oe),ge.tglrecvunit?((0,o.openBlock)(),(0,o.createBlock)(be,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[15]||(t[15]=function(e){return ge.tglrecvunit=""})})):((0,o.openBlock)(),(0,o.createBlock)(be,{key:0,icon:"pi pi-calendar",onClick:r},null,8,["onClick"]))])]})),_:1},8,["modelValue","min-date","masks"])])]),(0,o.createElementVNode)("div",re,[ne,(0,o.createElementVNode)("div",ae,[(0,o.createVNode)(Ce,{modelValue:ge.tgltouser,"onUpdate:modelValue":t[18]||(t[18]=function(e){return ge.tgltouser=e}),"min-date":this.tglrecvunit||this.tglbuy||this.tglrecvcash||this.tglsub,masks:ge.mask},{default:(0,o.withCtx)((function(e){var l=e.inputValue,r=e.togglePopover;return[(0,o.createElementVNode)("div",ie,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:l,onClick:r,readonly:"",placeholder:"Pilih Tgl Penyerahan"},null,8,ce),ge.tgltouser?((0,o.openBlock)(),(0,o.createBlock)(be,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[17]||(t[17]=function(e){return ge.tgltouser=""})})):((0,o.openBlock)(),(0,o.createBlock)(be,{key:0,icon:"pi pi-calendar",onClick:r},null,8,["onClick"]))])]})),_:1},8,["modelValue","min-date","masks"])])]),(0,o.createElementVNode)("div",se,[de,(0,o.createElementVNode)("div",ue,[(0,o.createVNode)(Ce,{modelValue:ge.tglclosing,"onUpdate:modelValue":t[20]||(t[20]=function(e){return ge.tglclosing=e}),"min-date":this.tgltouser||this.tglrecvunit||this.tglbuy||this.tglrecvcash||this.tglsub,masks:ge.mask},{default:(0,o.withCtx)((function(e){var l=e.inputValue,r=e.togglePopover;return[(0,o.createElementVNode)("div",me,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:l,onClick:r,readonly:"",placeholder:"Pilih Tgl Terima Barang"},null,8,pe),ge.tglclosing?((0,o.openBlock)(),(0,o.createBlock)(be,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[19]||(t[19]=function(e){return ge.tglclosing=""})})):((0,o.openBlock)(),(0,o.createBlock)(be,{key:0,icon:"pi pi-calendar",onClick:r},null,8,["onClick"]))])]})),_:1},8,["modelValue","min-date","masks"])])]),(0,o.createElementVNode)("div",he,[(0,o.createVNode)(be,{class:"p-button-rounded p-button-success mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,o.createVNode)(be,{label:"Cancel",class:"p-button-rounded p-button-secondary mt-2",icon:"pi pi-times",onClick:t[21]||(t[21]=function(t){return e.$router.push("/cash-advance")})})])])],32)):(0,o.createCommentVNode)("",!0)])])}],["__scopeId","data-v-5a665f4c"]])}}]);