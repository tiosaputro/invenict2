"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2843],{721:(e,r,t)=>{t.d(r,{Z:()=>n});var a=t(23645),o=t.n(a)()((function(e){return e[1]}));o.push([e.id,".master-image[data-v-6d03bceb]{box-shadow:0 9px 46px 8px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.14),0 11px 15px rgba(0,0,0,.2);height:200pt;-o-object-fit:contain;object-fit:contain}",""]);const n=o},52843:(e,r,t)=>{t.r(r),t.d(r,{default:()=>T});var a=t(70821),o=function(e){return(0,a.pushScopeId)("data-v-6d03bceb"),e=e(),(0,a.popScopeId)(),e},n={class:"card"},s=o((function(){return(0,a.createElementVNode)("h4",null,"Master Peripheral",-1)})),l={class:"row"},i={class:"col-sm-6"},c={class:"field grid"},d=o((function(){return(0,a.createElementVNode)("label",{class:"col-fixed w-9rem"},"Kode",-1)})),m={class:"col-fixed w-9rem"},p={class:"field grid"},u=o((function(){return(0,a.createElementVNode)("label",{class:"col-fixed w-9rem"},"Nama Peripheral",-1)})),h={class:"col-fixed w-9rem"},k={key:0,class:"p-error"},f={key:1,class:"p-error"},V={class:"field grid"},v=o((function(){return(0,a.createElementVNode)("label",{class:"col-fixed w-9rem"},"Merk",-1)})),g={class:"col-fixed w-9rem"},b={key:0,class:"p-error"},N={key:1,class:"p-error"},y={class:"field grid"},E=o((function(){return(0,a.createElementVNode)("label",{class:"col-fixed w-9rem"},"Tipe",-1)})),x={class:"col-fixed w-9rem"},C={key:0,class:"p-error"},B={key:1,class:"p-error"},w={class:"form-group"};const S={data:function(){return{aktif:!0,displayImage:!1,preview:"",errors:[],error:[],merks:[],kondi:[],bisnis:[],kategori:[],nama:"",tgl:"",sn:"",bu:"",merk:"",type:"",foto:null,prevuser:"",lastuser:"",prevloct:"",lastloct:"",kondisi:"",barcode:"",garansi:null,mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id")}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(r){e.checkto=r.data.map((function(e){return e.to})),e.checkname=r.data.map((function(e){return e.name})),e.checkname.includes("Master Peripheral")||e.checkto.includes("/master-peripheral")?e.getMerk():e.$router.push("/access")})):this.$router.push("/login")},getMerk:function(){var e=this;this.axios.get("api/rsrcsupp",{headers:{Authorization:"Bearer "+this.token}}).then((function(r){e.merks=r.data.merk,e.bisnis=r.data.bisnis,e.kondi=r.data.kondisi,e.kategori=r.data.nama})).catch((function(r){401==r.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},CreateMaster:function(){var e=this;if(this.errors=[],this.error=[],null!=this.merk&&null!=this.nama){var r=new FormData;r.append("nama",this.nama),r.append("merk",this.merk),r.append("type",this.type),this.axios.post("api/add-mas",r,{headers:{Authorization:"Bearer "+this.token}}).then((function(){setTimeout((function(){return e.$router.push("/master-peripheral")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(r){e.errors=r.response.data.errors}))}else null==this.merk&&(this.error.merk="Merk Belum Diisi"),null==this.nama&&(this.error.nama="Nama Peripheral Belum Diisi")}}};var M=t(93379),D=t.n(M),I=t(721),P={insert:"head",singleton:!1};D()(I.Z,P);I.Z.locals;const T=(0,t(83744).Z)(S,[["render",function(e,r,t,o,S,M){var D=(0,a.resolveComponent)("Toast"),I=(0,a.resolveComponent)("Toolbar"),P=(0,a.resolveComponent)("InputText"),T=(0,a.resolveComponent)("Dropdown"),$=(0,a.resolveComponent)("Button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(D),(0,a.createElementVNode)("div",n,[(0,a.createVNode)(I,{class:"mb-4"},{start:(0,a.withCtx)((function(){return[s]})),_:1}),(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("form",{onSubmit:r[4]||(r[4]=(0,a.withModifiers)((function(){return M.CreateMaster&&M.CreateMaster.apply(M,arguments)}),["prevent"]))},[(0,a.createElementVNode)("div",c,[d,(0,a.createElementVNode)("div",m,[(0,a.createVNode)(P,{type:"text",disabled:""})])]),(0,a.createElementVNode)("div",p,[u,(0,a.createElementVNode)("div",h,[(0,a.createVNode)(T,{modelValue:S.nama,"onUpdate:modelValue":r[0]||(r[0]=function(e){return S.nama=e}),options:S.kategori,optionLabel:"name",optionValue:"name",showClear:!0,filter:!0,placeholder:"Pilih Peripheral",autofocus:"",class:(0,a.normalizeClass)({"p-invalid":S.errors.nama})},null,8,["modelValue","options","class"]),S.errors.nama?((0,a.openBlock)(),(0,a.createElementBlock)("small",k,(0,a.toDisplayString)(S.errors.nama[0]),1)):(0,a.createCommentVNode)("",!0),S.error.nama?((0,a.openBlock)(),(0,a.createElementBlock)("small",f,(0,a.toDisplayString)(S.error.nama),1)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",V,[v,(0,a.createElementVNode)("div",g,[(0,a.createVNode)(T,{modelValue:S.merk,"onUpdate:modelValue":r[1]||(r[1]=function(e){return S.merk=e}),options:S.merks,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Merk",autofocus:"",class:(0,a.normalizeClass)({"p-invalid":S.errors.merk})},null,8,["modelValue","options","class"]),S.errors.merk?((0,a.openBlock)(),(0,a.createElementBlock)("small",b,(0,a.toDisplayString)(S.errors.merk[0]),1)):(0,a.createCommentVNode)("",!0),S.error.merk?((0,a.openBlock)(),(0,a.createElementBlock)("small",N,(0,a.toDisplayString)(S.error.merk),1)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",y,[E,(0,a.createElementVNode)("div",x,[(0,a.createVNode)(P,{type:"text",modelValue:S.type,"onUpdate:modelValue":r[2]||(r[2]=function(e){return S.type=e}),placeholder:"Masukan Tipe",class:(0,a.normalizeClass)({"p-invalid":S.errors.type})},null,8,["modelValue","class"]),S.errors.type?((0,a.openBlock)(),(0,a.createElementBlock)("small",C,(0,a.toDisplayString)(S.errors.type[0]),1)):(0,a.createCommentVNode)("",!0),S.error.type?((0,a.openBlock)(),(0,a.createElementBlock)("small",B,(0,a.toDisplayString)(S.error.type),1)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",w,[(0,a.createVNode)($,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,a.createVNode)($,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:r[3]||(r[3]=function(r){return e.$router.push("/master-peripheral")})})])],32)])])])])}],["__scopeId","data-v-6d03bceb"]])}}]);