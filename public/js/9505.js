"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9505],{67048:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(23645),l=r.n(o)()((function(e){return e[1]}));l.push([e.id,".master-image[data-v-b07712ca]{box-shadow:0 9px 46px 8px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.14),0 11px 15px rgba(0,0,0,.2);height:227pt}",""]);const a=l},89505:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Pe});var o=r(70821);(0,o.pushScopeId)("data-v-b07712ca");var l={class:"card"},a=(0,o.createElementVNode)("h4",null,"Master Peripheral",-1),s={class:"row"},n={class:"col-sm-6"},i={class:"field grid"},c=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Kode",-1),d={class:"col-3 md-6"},m={key:0,class:"p-error"},p={class:"field grid"},u=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Merk",-1),k={class:"col-4"},h={key:0,class:"p-error"},V={key:1,class:"p-error"},g={class:"field grid"},f=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Tipe",-1),v={class:"col-4"},N={key:0,class:"p-error"},y={key:1,class:"p-error"},b={class:"field grid"},E=(0,o.createElementVNode)("label",{style:{width:"155px"}},"S/N",-1),C={class:"col-3 md-6"},B={key:0,class:"p-error"},x={class:"field grid"},S=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Tgl. Perolehan",-1),w={class:"col-12 md:col-6"},D={class:"flex items-center"},M=["value","onClick"],U={key:0,class:"p-error"},I={class:"field grid"},z=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Lama Garansi",-1),T={class:"col-12 md:col-6"},P={class:"p-inputgroup"},L=(0,o.createElementVNode)("span",{class:"p-inputgroup-addon"}," Tahun ",-1),$={key:0,class:"p-error"},K={class:"field grid"},A=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Kondisi",-1),R={class:"col-4"},_={key:0,class:"p-error"},Y={class:"field grid"},F=(0,o.createElementVNode)("label",{style:{width:"155px"}},"QR-Code",-1),Z={class:"col-12 md:col-6"},G={class:"p-inputgroup"},j=["src"],q={key:0,class:"p-error"},O={class:"field grid"},Q=(0,o.createElementVNode)("label",{for:"notlp2",style:{width:"155px"}},"Bisnis Unit",-1),H={class:"col-4"},J={key:0,class:"p-error"},W={key:1,class:"p-error"},X={class:"field grid"},ee=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Terakhir",-1),te={class:"col-6"},re={key:0,class:"p-error"},oe={class:"field grid"},le=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Pengguna Terakhir",-1),ae={class:"col-6"},se={key:0,class:"p-error"},ne={class:"form-group"},ie={class:"col-sm-6"},ce={class:"field grid"},de=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Nama",-1),me={class:"col-12 md:col-4"},pe={key:0,class:"p-error"},ue={class:"field grid"},ke=(0,o.createElementVNode)("label",{style:{width:"155px"}},null,-1),he={class:"col-10 md-6"},Ve={class:"card master-image",style:{height:"22.5rem"}},ge=["src"],fe={class:"field grid"},ve=(0,o.createElementVNode)("label",{style:{width:"155px"}},null,-1),Ne={class:"col-10 md-6"},ye={key:0,class:"p-error"},be={class:"field grid"},Ee=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Lokasi Sebelumnya",-1),Ce={class:"col-6"},Be={key:0,class:"p-error"},xe={class:"field grid"},Se=(0,o.createElementVNode)("label",{style:{width:"155px"}},"Penguna Sebelumnya",-1),we={class:"col-6"},De={key:0,class:"p-error"};(0,o.popScopeId)();const Me={data:function(){return{aktif:!0,displayImage:!1,preview:"",errors:[],error:[],merks:[],kondi:[],bisnis:[],code:"",nama:"",tgl:"",sn:"",bu:"",merk:"",type:"",foto:null,prevuser:"",lastuser:"",prevloct:"",lastloct:"",kondisi:"",barcode:"",garansi:null,mask:{input:"DD MMM YYYY"},token:localStorage.getItem("token"),checkname:[],checkto:[],id:localStorage.getItem("id")}},created:function(){this.cekUser()},methods:{cekUser:function(){var e=this;this.id?this.axios.get("api/cek-user/"+this.id,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.checkto=t.data.map((function(e){return e.to})),e.checkname=t.data.map((function(e){return e.name})),e.checkname.includes("Master Peripheral")||e.checkto.includes("/master-peripheral")?e.getMerk():e.$router.push("/access")})):this.$router.push("/login")},getMerk:function(){var e=this;this.axios.get("api/getMerk",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.merks=t.data,e.getKondisi(),e.getBisnis()})).catch((function(t){401==t.response.status&&(e.$toast.add({severity:"error",summary:"Error",detail:"Sesi Login Expired"}),localStorage.clear(),localStorage.setItem("Expired","true"),setTimeout((function(){return e.$router.push("/login")}),2e3))}))},getKondisi:function(){var e=this;this.axios.get("api/getKondisi",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.kondi=t.data}))},Scan:function(){var e=this;this.aktif=!1;var t=this.$router.resolve({name:"Scan"});window.open(t.href,"_blank"),setTimeout((function(){return e.getBarcode()}),2e3)},getBarcode:function(){var e=this;this.barcode=localStorage.getItem("barcode"),this.barcode||setTimeout((function(){return e.getBarcode()}),3e3)},hapus:function(){localStorage.removeItem("barcode"),this.barcode=null,this.aktif=!0},getBisnis:function(){var e=this;this.axios.get("api/get-bisnis",{headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.bisnis=t.data}))},fileImage:function(e){this.foto=e.target.files[0],this.displayImage=!0,this.preview=URL.createObjectURL(e.target.files[0]),this.createImage(this.foto)},createImage:function(e){new Image;var t=new FileReader,r=this;t.onload=function(e){r.image=e.target.result},t.readAsDataURL(e)},CreateMaster:function(){var e=this;if(this.errors=[],this.error=[],null!=this.bu&&null!=this.merk&&null!=this.foto){var t=new FormData;t.append("nama",this.nama),t.append("code",this.code),t.append("tgl",this.tgl),t.append("sn",this.sn),t.append("bu",this.bu),t.append("merk",this.merk),t.append("type",this.type),t.append("lastuser",this.lastuser),t.append("prevuser",this.prevuser),t.append("prevloct",this.prevloct),t.append("lastloct",this.lastloct),t.append("foto",this.image),t.append("kondisi",this.kondisi),t.append("barcode",this.barcode),t.append("garansi",this.garansi),this.axios.post("api/add-mas",t,{headers:{Authorization:"Bearer "+this.token}}).then((function(){localStorage.removeItem("barcode"),setTimeout((function(){return e.$router.push("/master-peripheral")}),1e3),e.$toast.add({severity:"success",summary:"Success Message",detail:"Success Create"})})).catch((function(t){e.errors=t.response.data.errors}))}else null==this.bu&&(this.error.bu="Bisnis Unit Belum Diisi"),null==this.merk&&(this.error.merk="Merk Belum Diisi"),null==this.foto&&(this.error.foto="Foto Belum Diisi")}}};var Ue=r(93379),Ie=r.n(Ue),ze=r(67048),Te={insert:"head",singleton:!1};Ie()(ze.Z,Te);ze.Z.locals;Me.render=function(e,t,r,Me,Ue,Ie){var ze=(0,o.resolveComponent)("Toast"),Te=(0,o.resolveComponent)("Toolbar"),Pe=(0,o.resolveComponent)("InputText"),Le=(0,o.resolveComponent)("Dropdown"),$e=(0,o.resolveComponent)("Button"),Ke=(0,o.resolveComponent)("DatePicker"),Ae=(0,o.resolveComponent)("InputNumber"),Re=(0,o.resolveDirective)("tooltip");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(ze),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(Te,{class:"mb-4"},{start:(0,o.withCtx)((function(){return[a]})),_:1}),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("form",{onSubmit:t[15]||(t[15]=(0,o.withModifiers)((function(){return Ie.CreateMaster&&Ie.CreateMaster.apply(Ie,arguments)}),["prevent"]))},[(0,o.createElementVNode)("div",i,[c,(0,o.createElementVNode)("div",d,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.code,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Ue.code=e}),placeholder:"Masukan Kode",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.code}),autofocus:""},null,8,["modelValue","class"]),Ue.errors.code?((0,o.openBlock)(),(0,o.createElementBlock)("small",m,(0,o.toDisplayString)(Ue.errors.code[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",p,[u,(0,o.createElementVNode)("div",k,[(0,o.createVNode)(Le,{modelValue:Ue.merk,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Ue.merk=e}),options:Ue.merks,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Merk",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.merk})},null,8,["modelValue","options","class"]),Ue.errors.merk?((0,o.openBlock)(),(0,o.createElementBlock)("small",h,(0,o.toDisplayString)(Ue.errors.merk[0]),1)):(0,o.createCommentVNode)("",!0),Ue.error.merk?((0,o.openBlock)(),(0,o.createElementBlock)("small",V,(0,o.toDisplayString)(Ue.error.merk),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",g,[f,(0,o.createElementVNode)("div",v,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.type,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Ue.type=e}),placeholder:"Masukan Tipe",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.type})},null,8,["modelValue","class"]),Ue.errors.type?((0,o.openBlock)(),(0,o.createElementBlock)("small",N,(0,o.toDisplayString)(Ue.errors.type[0]),1)):(0,o.createCommentVNode)("",!0),Ue.error.type?((0,o.openBlock)(),(0,o.createElementBlock)("small",y,(0,o.toDisplayString)(Ue.error.type),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",b,[E,(0,o.createElementVNode)("div",C,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.sn,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Ue.sn=e}),placeholder:"Masukan S/N",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.sn})},null,8,["modelValue","class"]),Ue.errors.sn?((0,o.openBlock)(),(0,o.createElementBlock)("small",B,(0,o.toDisplayString)(Ue.errors.sn[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",x,[S,(0,o.createElementVNode)("div",w,[(0,o.createVNode)(Ke,{modelValue:Ue.tgl,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Ue.tgl=e}),masks:Ue.mask},{default:(0,o.withCtx)((function(e){var r=e.inputValue,l=e.togglePopover;return[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("input",{class:"bg-white text-gray-900 w-full py-2 px-3 appearance-none border rounded-l focus:outline-none",value:r,onClick:l,placeholder:"Pilih Tanggal",readonly:""},null,8,M),Ue.tgl?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)($e,{key:0,icon:"pi pi-calendar",onClick:function(e){return l()}},null,8,["onClick"])),Ue.tgl?((0,o.openBlock)(),(0,o.createBlock)($e,{key:1,icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return Ue.tgl=null})})):(0,o.createCommentVNode)("",!0)])]})),_:1},8,["modelValue","masks"]),Ue.errors.tgl?((0,o.openBlock)(),(0,o.createElementBlock)("small",U,(0,o.toDisplayString)(Ue.errors.tgl[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",I,[z,(0,o.createElementVNode)("div",T,[(0,o.createElementVNode)("div",P,[(0,o.createVNode)(Ae,{modelValue:Ue.garansi,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Ue.garansi=e}),placeholder:"Masukan Garansi",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.garansi})},null,8,["modelValue","class"]),L]),Ue.errors.garansi?((0,o.openBlock)(),(0,o.createElementBlock)("small",$,(0,o.toDisplayString)(Ue.errors.garansi[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",K,[A,(0,o.createElementVNode)("div",R,[(0,o.createVNode)(Le,{modelValue:Ue.kondisi,"onUpdate:modelValue":t[7]||(t[7]=function(e){return Ue.kondisi=e}),options:Ue.kondi,showClear:!0,filter:!0,optionLabel:"name",optionValue:"code",placeholder:"Pilih Kondisi",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.kondisi})},null,8,["modelValue","options","class"]),Ue.errors.kondisi?((0,o.openBlock)(),(0,o.createElementBlock)("small",_,(0,o.toDisplayString)(Ue.errors.kondisi[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",Y,[F,(0,o.createElementVNode)("div",Z,[(0,o.createElementVNode)("div",G,[Ue.barcode?((0,o.openBlock)(),(0,o.createBlock)(Pe,{key:0,modelValue:Ue.barcode,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Ue.barcode=e}),readonly:""},null,8,["modelValue"])):(0,o.createCommentVNode)("",!0),Ue.aktif||Ue.barcode?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:1,src:"assets/loading2.gif",height:"50"},null,8,j)),Ue.barcode?((0,o.openBlock)(),(0,o.createBlock)($e,{key:2,icon:"pi pi-trash",class:"p-button-danger",onClick:t[9]||(t[9]=function(e){return Ie.hapus()}),onVTooltip:function(e){return"Click to delete"}})):(0,o.createCommentVNode)("",!0),Ue.aktif?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)($e,{key:3,icon:"bi bi-qr-code-scan",class:"p-button p-button-info",onClick:t[10]||(t[10]=function(e){return Ie.Scan()})},null,512)),[[Re,"Click to scan"]]):(0,o.createCommentVNode)("",!0)]),Ue.errors.barcode?((0,o.openBlock)(),(0,o.createElementBlock)("small",q,(0,o.toDisplayString)(Ue.errors.barcode[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",O,[Q,(0,o.createElementVNode)("div",H,[(0,o.createVNode)(Le,{modelValue:Ue.bu,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Ue.bu=e}),options:Ue.bisnis,optionLabel:"name",optionValue:"code",showClear:!0,filter:!0,placeholder:"Pilih Bisnis Unit",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.bu})},null,8,["modelValue","options","class"]),Ue.errors.bu?((0,o.openBlock)(),(0,o.createElementBlock)("small",J,(0,o.toDisplayString)(Ue.errors.bu[0]),1)):(0,o.createCommentVNode)("",!0),Ue.error.bu?((0,o.openBlock)(),(0,o.createElementBlock)("small",W,(0,o.toDisplayString)(Ue.error.bu),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",X,[ee,(0,o.createElementVNode)("div",te,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.lastloct,"onUpdate:modelValue":t[12]||(t[12]=function(e){return Ue.lastloct=e}),class:(0,o.normalizeClass)({"p-invalid":Ue.errors.lastloct}),placeholder:"Masukan Lokasi terakhir"},null,8,["modelValue","class"]),Ue.errors.lastloct?((0,o.openBlock)(),(0,o.createElementBlock)("small",re,(0,o.toDisplayString)(Ue.errors.lastloct[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",oe,[le,(0,o.createElementVNode)("div",ae,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.lastuser,"onUpdate:modelValue":t[13]||(t[13]=function(e){return Ue.lastuser=e}),class:(0,o.normalizeClass)({"p-invalid":Ue.errors.lastuser}),placeholder:"Masukan Pengguna Terakhir"},null,8,["modelValue","class"]),Ue.errors.lastuser?((0,o.openBlock)(),(0,o.createElementBlock)("small",se,(0,o.toDisplayString)(Ue.errors.lastuser[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",ne,[(0,o.createVNode)($e,{class:"p-button-rounded p-button-primary mr-2",icon:"pi pi-check",label:"Simpan",type:"submit"}),(0,o.createVNode)($e,{label:"Cancel",class:"p-button-rounded p-button-secondary mr-2",icon:"pi pi-times",onClick:t[14]||(t[14]=function(t){return e.$router.push("/master-peripheral")})})])],32)]),(0,o.createElementVNode)("div",ie,[(0,o.createElementVNode)("div",ce,[de,(0,o.createElementVNode)("div",me,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.nama,"onUpdate:modelValue":t[16]||(t[16]=function(e){return Ue.nama=e}),placeholder:"Masukan Nama",class:(0,o.normalizeClass)({"p-invalid":Ue.errors.nama})},null,8,["modelValue","class"]),Ue.errors.nama?((0,o.openBlock)(),(0,o.createElementBlock)("small",pe,(0,o.toDisplayString)(Ue.errors.nama[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",ue,[ke,(0,o.createElementVNode)("div",he,[(0,o.createElementVNode)("div",Ve,[(0,o.createElementVNode)("img",{src:Ue.preview,class:"master-image"},null,8,ge)])])]),(0,o.createElementVNode)("div",fe,[ve,(0,o.createElementVNode)("div",Ne,[(0,o.createElementVNode)("input",{type:"file",class:(0,o.normalizeClass)([{"p-invalid":Ue.error.foto},"form-control"]),name:"foto",ref:"fileInput",onChange:t[17]||(t[17]=function(){return Ie.fileImage&&Ie.fileImage.apply(Ie,arguments)})},null,34),Ue.error.foto?((0,o.openBlock)(),(0,o.createElementBlock)("small",ye,(0,o.toDisplayString)(Ue.error.foto),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",be,[Ee,(0,o.createElementVNode)("div",Ce,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.prevloct,"onUpdate:modelValue":t[18]||(t[18]=function(e){return Ue.prevloct=e}),class:(0,o.normalizeClass)({"p-invalid":Ue.errors.prevloct}),placeholder:"Masukan Lokasi sebelumnya"},null,8,["modelValue","class"]),Ue.errors.prevloct?((0,o.openBlock)(),(0,o.createElementBlock)("small",Be,(0,o.toDisplayString)(Ue.errors.prevloct[0]),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",xe,[Se,(0,o.createElementVNode)("div",we,[(0,o.createVNode)(Pe,{type:"text",modelValue:Ue.prevuser,"onUpdate:modelValue":t[19]||(t[19]=function(e){return Ue.prevuser=e}),class:(0,o.normalizeClass)({"p-invalid":Ue.errors.prevuser}),placeholder:"Masukan Pengguna sebelumnya"},null,8,["modelValue","class"]),Ue.errors.prevuser?((0,o.openBlock)(),(0,o.createElementBlock)("small",De,(0,o.toDisplayString)(Ue.errors.prevuser[0]),1)):(0,o.createCommentVNode)("",!0)])])])])])])},Me.__scopeId="data-v-b07712ca";const Pe=Me}}]);